<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Python," />





  <link rel="alternate" href="/atom.xml" title="Pre Focuson" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="这一部分是Python方面的一些学习笔记，用于记录自己学习Python的过程，同时也是对自己Python这块知识的一个梳理，后期也可用于Python复习。 Python学习的第三篇，介绍Python常见模块的用法，其中包括os模块、matplotlab模块等。">
<meta name="keywords" content="Python">
<meta property="og:type" content="article">
<meta property="og:title" content="Python学习笔记3：Python常见模块的用法">
<meta property="og:url" content="http://xjmwx4.github.io/2017-10-07-python-learning-03-modules/index.html">
<meta property="og:site_name" content="Pre Focuson">
<meta property="og:description" content="这一部分是Python方面的一些学习笔记，用于记录自己学习Python的过程，同时也是对自己Python这块知识的一个梳理，后期也可用于Python复习。 Python学习的第三篇，介绍Python常见模块的用法，其中包括os模块、matplotlab模块等。">
<meta property="og:image" content="http://xjmwx4.github.io/images/python-3-1.png">
<meta property="og:image" content="http://xjmwx4.github.io/images/pythom-3-2.png">
<meta property="og:image" content="http://xjmwx4.github.io/images/python-3-5.png">
<meta property="og:image" content="http://xjmwx4.github.io/2017-10-07-python-learning-03-modules/images/python-3-3.png">
<meta property="og:image" content="http://xjmwx4.github.io/images/python-3-4.png">
<meta property="og:image" content="http://www.codebelief.com/article/2017/04/python-data-visualization-matplotlib-learning/">
<meta property="og:updated_time" content="2017-10-22T08:05:25.901Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python学习笔记3：Python常见模块的用法">
<meta name="twitter:description" content="这一部分是Python方面的一些学习笔记，用于记录自己学习Python的过程，同时也是对自己Python这块知识的一个梳理，后期也可用于Python复习。 Python学习的第三篇，介绍Python常见模块的用法，其中包括os模块、matplotlab模块等。">
<meta name="twitter:image" content="http://xjmwx4.github.io/images/python-3-1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 'undefined',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://xjmwx4.github.io/2017-10-07-python-learning-03-modules/"/>





  <title>Python学习笔记3：Python常见模块的用法 | Pre Focuson</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-78684154-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?84c069be1715910c92ec05ad7c586e02";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Pre Focuson</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">探索世界的未知</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            轨迹
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://xjmwx4.github.io/2017-10-07-python-learning-03-modules/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fitz.Xu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/Fitz.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pre Focuson">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Python学习笔记3：Python常见模块的用法</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-07T00:00:00+08:00">
                2017-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming/" itemprop="url" rel="index">
                    <span itemprop="name">Programming</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>这一部分是Python方面的一些学习笔记，用于记录自己学习Python的过程，同时也是对自己Python这块知识的一个梳理，后期也可用于Python复习。</p>
<p>Python学习的第三篇，介绍Python常见模块的用法，其中包括os模块、matplotlab模块等。</p>
<a id="more"></a>
<p>Python的系统模块包括sys, os, glob, socket, threading, _thread, queue, time, timeit, subprocess, multiprocessing, signal, select, shutil, tempfile等。大多数系统级接口集中在：sys和os两个模块。</p>
<h2 id="sys模块"><a href="#sys模块" class="headerlink" title="sys模块"></a>sys模块</h2><p>sys模块包括了一组非常实用的服务，内含很多函数方法和变量，用来处理Python运行时配置以及资源，从而可以与前当程序之外的系统环境交互，如：Python解释器。与os模块相比，其更多的在于针对系统环境的交互，而os则操作文件目录。</p>
<h3 id="导入sys模块"><a href="#导入sys模块" class="headerlink" title="导入sys模块"></a>导入sys模块</h3><p>首先，打开终端模拟器进入Python解释器或者打开IDE编辑器创建一个新的.py后缀名的Python程序文件。<br>下面，以解释器中的操作举例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys <span class="comment">#导入sys模块</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>dir(sys)     <span class="comment">#dir()方法查看模块中可用的方法</span></div></pre></td></tr></table></figure>
<p>`<br>注意：如果是在编辑器，一定要注意要事先声明代码的编码方式，否则中文会乱码。</p>
<h3 id="sys模块常见函数"><a href="#sys模块常见函数" class="headerlink" title="sys模块常见函数"></a>sys模块常见函数</h3><ul>
<li><code>sys.argv</code>: 命令行参数，包括脚本名称，实现从程序外部向程序传递参数</li>
<li><code>sys.exit([arg])</code>: 程序中间的退出，arg=0为正常退出</li>
<li><code>sys.path</code>: 查找模块所在目录的目录名列表</li>
<li><code>sys.modules</code>：映射模块名字到载入模块的字典</li>
<li><code>sys.platform</code>: 获取当前系统平台</li>
<li><code>sys.stdin</code>：标准输入流-一个类文件（file-like）对象</li>
<li><code>sys.stdout</code>：标准输出流-一个类文件对象</li>
<li><code>sys.stderr</code>：标准错误流-一个类文件对象</li>
<li><code>sys.getdefaultencoding()</code>: 获取系统当前编码，一般默认为ascii。</li>
<li><code>sys.setdefaultencoding()</code>: 设置系统默认编码，需要reload(sys)才能查询看到</li>
<li><code>sys.getfilesystemencoding()</code>: 获取文件系统使用编码方式，Windows下返回’mbcs’，mac下返回’utf-8’</li>
</ul>
<h3 id="sys模块常见函数-1"><a href="#sys模块常见函数-1" class="headerlink" title="sys模块常见函数"></a>sys模块常见函数</h3><h4 id="sys-argv"><a href="#sys-argv" class="headerlink" title="sys.argv"></a>sys.argv</h4><p><code>sys.argv</code>是命令行参数，包括脚本名称，它的功能可以实现从程序外部向程序传递参数。那么这个过程是如何实现的呢？假设有一个名为<code>test.py</code>的文件，则可以通过<code>import sys</code>和<code>print sys.argv[number]</code>两句来实现。number=0为这个脚本的名字，1,2,…则为命令行下传递的参数。</p>
<p>如test.py脚本内容如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> sys</div><div class="line"></div><div class="line"><span class="keyword">print</span> sys.argv[<span class="number">0</span>]</div><div class="line"><span class="keyword">print</span> sys.argv[<span class="number">1</span>]</div><div class="line"><span class="keyword">print</span> sys.argv[<span class="number">2</span>]</div><div class="line"><span class="keyword">print</span> sys.argv[<span class="number">3</span>]</div></pre></td></tr></table></figure></p>
<p>那么要实现参数传递即可采用<code>&gt;&gt;&gt;python test.py arg1 arg2 arg3</code>实现。下文会结合<code>sys.path</code>给出一个示例。上述命令的输出结果为：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">test.py</div><div class="line">arg1</div><div class="line">arg2</div><div class="line">arg3</div></pre></td></tr></table></figure></p>
<h4 id="sys-exit-arg"><a href="#sys-exit-arg" class="headerlink" title="sys.exit([arg])"></a>sys.exit([arg])</h4><p>执行至主程序的末尾时，解释器会自动退出。但如果需要中途退出程序，可以调用<code>sys.exit()</code>函数来实现。它带有一个可选的整数参数返回给调用它的程序。这意味着你可以在主程序中捕获对<code>sys.exit()</code>的调用。（0为正常退出，其他为不正常，可抛异常事件供捕获）</p>
<p><code>sys.exit()</code>函数运行示例如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> sys</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"hello"</span></div><div class="line"><span class="keyword">try</span>:</div><div class="line">    sys.exit(<span class="number">1</span>)</div><div class="line"><span class="keyword">except</span> SystemExit:   <span class="comment"># 捕获退出的异常</span></div><div class="line">    <span class="keyword">pass</span>                    <span class="comment"># 捕获后不做任何操作</span></div><div class="line"><span class="keyword">print</span> <span class="string">"there"</span></div></pre></td></tr></table></figure></p>
<p>输出结果为：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hello</div><div class="line">there</div></pre></td></tr></table></figure></p>
<p>还可以获取发生的异常类型（需要进入异常处理进程），如以下示例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">exitfunc</span><span class="params">(value)</span>:</span></div><div class="line">    <span class="keyword">print</span> value <span class="comment"># 打印异常类型</span></div><div class="line">    sys.exit(<span class="number">0</span>) <span class="comment"># 正常退出</span></div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">'Hello'</span> </div><div class="line"><span class="keyword">try</span>:</div><div class="line">    sys.exit(<span class="number">1</span>)</div><div class="line"><span class="keyword">except</span> SystemExit,value: <span class="comment"># 捕获退出的异常与其value值</span></div><div class="line">    exitfunc(value)		<span class="comment"># 调用函数，打印捕获的异常类型</span></div><div class="line"><span class="keyword">print</span> <span class="string">'end'</span>				<span class="comment"># 如果function里没有 sys.exit(0)命令，这句仍会被执行。</span></div></pre></td></tr></table></figure></p>
<p>上述代码输出结果见下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Hello</div><div class="line"><span class="number">1</span></div><div class="line">An exception has occurred, use %tb to see the full trackback.</div><div class="line"></div><div class="line">SystemExit: <span class="number">0</span></div></pre></td></tr></table></figure></p>
<p>执行<code>%tb</code>命令后发现其追踪了<code>sys.exit(0)</code>这句异常，但并没有追踪<code>sys.exit(1)</code>这句异常，实际上<code>sys.exit(1)</code>这个并不是异常退出原因。<code>try...except...</code>语句为异常处理语句，一般而言执行完try命令后会在except语句中查询符合的类型，语句会顺序执行，并不是如<code>sys.exit(0)</code>一样直接退出了。</p>
<p>有另一种捕获<code>sys.exit</code>调用的方法，代码如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">exitfunc</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">print</span> <span class="string">"world"</span></div><div class="line"></div><div class="line">sys.exitfunc = exitfunc  <span class="comment"># 设置捕获时调用的函数</span></div><div class="line"><span class="keyword">print</span> <span class="string">"hello"</span></div><div class="line">sys.exit(<span class="number">1</span>)     <span class="comment"># 退出自动调用exitfunc()后，程序依然退出了</span></div><div class="line"><span class="keyword">print</span> <span class="string">"there"</span>  <span class="comment"># 不会被 print</span></div></pre></td></tr></table></figure></p>
<p>输出结果为：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">hello</div><div class="line">world</div><div class="line"></div><div class="line">SystemExit: <span class="number">1</span></div></pre></td></tr></table></figure></p>
<p>这种方式的退出异常类型为代码中显示的1，因为其异常直接导致了进程的推出。</p>
<h4 id="sys-path"><a href="#sys-path" class="headerlink" title="sys.path"></a>sys.path</h4><p><code>sys.path</code>的功能是获取指定模块搜索路径的字符串集合，可以将写好的模块放在得到的某个路径下，就可以在程序中import时正确找到。</p>
<p>示例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>sys.path</div><div class="line">[<span class="string">''</span>, <span class="string">'/usr/lib/python2.7'</span>, <span class="string">'/usr/lib/python2.7/plat-x86_64-linux-gnu'</span>, <span class="string">'/usr/lib/python2.7/lib-tk'</span>, <span class="string">'/usr/lib/python2.7/lib-old'</span>, <span class="string">'/usr/lib/python2.7/lib-dynload'</span>, <span class="string">'/usr/local/lib/python2.7/dist-packages'</span>, <span class="string">'/usr/lib/python2.7/dist-packages'</span>, <span class="string">'/usr/lib/python2.7/dist-packages/PILcompat'</span>, <span class="string">'/usr/lib/python2.7/dist-packages/gtk-2.0'</span>, <span class="string">'/usr/lib/python2.7/dist-packages/ubuntu-sso-client'</span>]</div></pre></td></tr></table></figure></p>
<p>可以采用<code>sys.path.append(&quot;自定义模块路径&quot;)</code>增加模块搜索路径（也可以用<code>sys.path.insert</code>进行列表插入）。以上列出的模块目录，在python执行<code>import module_name</code>时，会依次从上述列出的路径来搜索对应的模块。如有需要手动添加模块，可放入对应的路径中，如无必要建议不要手动添加路径。``代表当前文件目录。</p>
<p>上问提到的<code>sys.argv</code>参数传递示例如下：</p>
<p>输入：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line">   <span class="comment"># Filename: using_sys.py</span></div><div class="line"></div><div class="line">   <span class="keyword">import</span> sys</div><div class="line"></div><div class="line">   <span class="keyword">print</span> <span class="string">'The command line arguments are:'</span></div><div class="line">   <span class="keyword">for</span> i <span class="keyword">in</span> sys.argv:</div><div class="line">       <span class="keyword">print</span> i</div><div class="line"></div><div class="line">   <span class="keyword">print</span> <span class="string">'\n\nThe PYTHONPATH is'</span>, sys.path, <span class="string">'\n'</span></div></pre></td></tr></table></figure></p>
<p>输出：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>python using_sys.py we are arguments</div><div class="line">    The command line arguments are:</div><div class="line">    using_sys.py</div><div class="line">    we</div><div class="line">    are</div><div class="line">    arguments</div><div class="line"></div><div class="line">    The PYTHONPATH <span class="keyword">is</span> [<span class="string">'/home/swaroop/byte/code'</span>, <span class="string">'/usr/lib/python23.zip'</span>,</div><div class="line">    <span class="string">'/usr/lib/python2.3'</span>, <span class="string">'/usr/lib/python2.3/plat-linux2'</span>,</div><div class="line">    <span class="string">'/usr/lib/python2.3/lib-tk'</span>, <span class="string">'/usr/lib/python2.3/lib-dynload'</span>,</div><div class="line">    <span class="string">'/usr/lib/python2.3/site-packages'</span>, <span class="string">'/usr/lib/python2.3/site-packages/gtk-2.0'</span>]</div></pre></td></tr></table></figure></p>
<h4 id="sys-modules"><a href="#sys-modules" class="headerlink" title="sys.modules"></a>sys.modules</h4><p><code>sys.modules</code>是一个全局字典，该字典是python启动后就加载在内存中。每当导入新的模块时，<code>sys.modules</code>将自动记录该模块。当第二次再导入该模块时，python会直接到字典中查找，从而加快了程序运行的速度。它拥有字典所拥有的一切方法。</p>
<p>示例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> sys</div><div class="line"></div><div class="line"><span class="keyword">print</span> sys.modules.keys() <span class="comment"># 列出所有的模块名</span></div><div class="line"><span class="keyword">print</span> sys.modules[<span class="string">'os'</span>] <span class="comment"># 列出指定模块如os模块所在路径</span></div><div class="line"><span class="keyword">print</span> sys.modules.values() <span class="comment"># 列出所有模块所在路径（含values值？应该没必要了解）</span></div></pre></td></tr></table></figure></p>
<p><code>uiltin_module_names</code>列表包含了Python解释器中所有内建模块的名称。代码如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">dump</span><span class="params">(module)</span>:</span></div><div class="line">    <span class="keyword">print</span> module, <span class="string">"=&gt;"</span>,</div><div class="line">    <span class="keyword">if</span> module <span class="keyword">in</span> sys.builtin_module_names:  <span class="comment">#查找内建模块是否存在</span></div><div class="line">        <span class="keyword">print</span> <span class="string">"&lt;BUILTIN&gt;"</span></div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        module = _ _import_ _(module)         <span class="comment">#非内建模块输出模块路径</span></div><div class="line">        <span class="keyword">print</span> module._ _file_ _</div><div class="line">dump(<span class="string">"os"</span>)</div><div class="line">dump(<span class="string">"sys"</span>)</div><div class="line">dump(<span class="string">"string"</span>)</div><div class="line">dump(<span class="string">"strop"</span>)</div><div class="line">dump(<span class="string">"zlib"</span>)</div></pre></td></tr></table></figure></p>
<p>输出（示例，以实际安装情况为准）：<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">os =&gt; C:\python\lib\os.pyc</div><div class="line">sys =&gt; &lt;BUILTIN&gt;</div><div class="line">string =&gt; C:\python\lib\string.pyc</div><div class="line">strop =&gt; &lt;BUILTIN&gt;</div><div class="line">zlib =&gt; C:\python\zlib.pyd</div></pre></td></tr></table></figure></p>
<h4 id="sys-platform"><a href="#sys-platform" class="headerlink" title="sys.platform"></a>sys.platform</h4><p><code>sys.platform</code>语句用于查看当前平台，如win32、linux2等。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;<span class="keyword">print</span> sys.platform</div><div class="line">win32 <span class="comment">#linux2</span></div></pre></td></tr></table></figure>
<h4 id="sys-stdin-sys-stdout-sys-stderr"><a href="#sys-stdin-sys-stdout-sys-stderr" class="headerlink" title="sys.stdin/sys.stdout/sys.stderr"></a>sys.stdin/sys.stdout/sys.stderr</h4><p>sys.stdin/sys.stdout/sys.stderr变量包含与标准I/O流对应的流对象。如果需要更好地控制输出,而print不能满足你的要求，它们就是你所需要的。你也可以替换它们，这时候你就可以重定向输出和输入到其它设备( device )，或者以非标准的方式处理它们。</p>
<p>我们平时的输入输出方式通过input/raw_input/print实现，即<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> <span class="string">'Hello World!'</span></div><div class="line"><span class="keyword">print</span> <span class="string">'Hi, %s!'</span> % raw_input(<span class="string">'Please enter your name:'</span>)</div></pre></td></tr></table></figure></p>
<p>上述中，键盘键入的信息则为标准输入，屏幕输出的结果则为标准输出。而上述的例子，与下文采用sys.stdin/sys.stdout的结果是一致的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> sys</div><div class="line"></div><div class="line">sys.stdout.write(<span class="string">'Hello World!'</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">'Please enter your name:'</span>,</div><div class="line">name=sys.stdin.readline()[:<span class="number">-1</span>]</div><div class="line"><span class="keyword">print</span> <span class="string">'Hi, %s!'</span> % name</div></pre></td></tr></table></figure>
<p>输入<code>for f in (sys.stdin, sys.stdout, sys.stderr): print f</code>可查看属性信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;open file <span class="string">'&lt;stdin&gt;'</span>, mode <span class="string">'r'</span> at <span class="number">892210</span>&gt;</div><div class="line">&lt;open file <span class="string">'&lt;stdout&gt;'</span>, mode <span class="string">'w'</span> at <span class="number">892270</span>&gt;</div><div class="line">&lt;open file <span class="string">'&lt;stderr&gt;'</span>, mode <span class="string">'w at 8922d0&gt;</span></div></pre></td></tr></table></figure>
<p>注：通过IPython输出结果与上述有所出入，但上述要表述的信息正确。</p>
<p>stdin/stdout/stderr在Python中都是文件属性的对象，在Python启动时自动与Shell 环境中的标准输入/输出/出错关联。与标准输出print和标准出错所不同的是，stdin/stdout/stderr三者不具备自动回车功能，而标准输入输出则默认自动加了回车。stdin只读，stdout和stderr只写。</p>
<h5 id="使用sys重定向输出"><a href="#使用sys重定向输出" class="headerlink" title="使用sys重定向输出"></a>使用sys重定向输出</h5><p>代码如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> <span class="string">'Dive in'</span>        <span class="comment"># 标准输出</span></div><div class="line">saveout = sys.stdout        <span class="comment"># 终在重定向前保存stdout，这样的话之后你还可以将其设回正常</span></div><div class="line">fsock = open(<span class="string">'out.log'</span>, <span class="string">'w'</span>)      <span class="comment"># 打开一个新文件用于写入。如果文件不存在，将会被创建。如果文件存在，将被覆盖。</span></div><div class="line">sys.stdout = fsock                 <span class="comment"># 所有后续的输出都会被重定向到刚才打开的新文件上。</span></div><div class="line"><span class="keyword">print</span>  <span class="string">'This message will be logged instead of displayed'</span>    <span class="comment"># 这样只会将输出结果“打印”到日志文件中；屏幕上不会看到输出</span></div><div class="line">sys.stdout = saveout   <span class="comment"># 在我们将 stdout 搞乱之前，让我们把它设回原来的方式。    </span></div><div class="line">fsock.close()     <span class="comment"># 关闭日志文件。</span></div></pre></td></tr></table></figure>
<p>(下述sys重定向部分仅做一个拓展)</p>
<h5 id="重定向错误信息"><a href="#重定向错误信息" class="headerlink" title="重定向错误信息"></a>重定向错误信息</h5><p>fsock = open(‘error.log’, ‘w’)           # 打开你要存储调试信息的日志文件。<br>sys.stderr = fsock                           # 将新打开的日志文件的文件对象赋值给stderr以重定向标准错误。<br>raise Exception, ‘this error will be logged’   # 引发一个异常,没有在屏幕上打印出任何东西,所有正常的跟踪信息已经写进error.log<br>还要注意你既没有显式关闭日志文件，也没有将 stderr 设回最初的值。<br>这样挺好，因为一旦程序崩溃 (由于引发的异常)，Python 将替我们清理并关闭文件</p>
<h5 id="打印到-stderr"><a href="#打印到-stderr" class="headerlink" title="打印到 stderr"></a>打印到 stderr</h5><p>向标准错误写入错误信息是很常见的，所以有一种较快的语法可以立刻导出信息<br>代码如下:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> <span class="string">'entering function'</span></div><div class="line">entering function</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> &gt;&gt; sys.stderr, <span class="string">'entering function'</span></div><div class="line">entering function</div></pre></td></tr></table></figure></p>
<p>print 语句的快捷语法可以用于写入任何打开的文件 (或者是类文件对象)。<br>在这里，你可以将单个print语句重定向到stderr而且不用影响后面的print语句。</p>
<p>更多详见：<a href="https://docs.python.org/3/library/sys.html" target="_blank" rel="external">sys模块官网文档</a></p>
<h2 id="os模块"><a href="#os模块" class="headerlink" title="os模块"></a>os模块</h2><p>Python 的 os 模块封装了常见的文件和目录操作，本文只列出部分常用的方法，更多的方法可以查看官方文档。</p>
<h3 id="常见用法一"><a href="#常见用法一" class="headerlink" title="常见用法一"></a>常见用法一</h3><ul>
<li>os.mkdir(name) 创建目录</li>
<li>os.rmdir(name) 删除目录</li>
<li>os.rename(name) 重命名</li>
<li>os.remove(file) 删除文件</li>
<li>os.getcwd() 获取当前工作路径</li>
<li>os.walk 遍历目录</li>
<li>os.path.join(path,name) 连接目录与文件名</li>
<li>os.path.split(name) 分割文件名与目录</li>
<li>os.path.abspath(name) 获取绝对路径</li>
<li>os.path.dirname(path) 获取路径</li>
<li>os.path.basename(path) 获取文件名或文件夹名</li>
<li>os.path.splitext() 分离文件名与扩展名</li>
<li>os.path.isfile() 判断给出的路径是否是一个文件</li>
<li>os.path.isdir() 判断给出的路径是否是一个目录</li>
<li>os.urandom(n):返回n字节的加密强随机数据</li>
</ul>
<p>以下面的目录结构为参考，工作目录为 /Users/ethan/coding/python，展示os模块用法</p>
<p>Users/ethan<br>└── coding<br>    └── python<br>        ├── hello.py    - 文件<br>        └── web         - 目录</p>
<ul>
<li><p>os.path.abspath：获取文件或目录的绝对路径</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>pwd</div><div class="line">/Users/ethan/coding/python</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>python</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os                          <span class="comment"># 记得导入 os 模块</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.abspath(<span class="string">'hello.py'</span>)</div><div class="line"><span class="string">'/Users/ethan/coding/python/hello.py'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.abspath(<span class="string">'web'</span>)</div><div class="line"><span class="string">'/Users/ethan/coding/python/web'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.abspath(<span class="string">'.'</span>)                <span class="comment"># 当前目录的绝对路径</span></div><div class="line"><span class="string">'/Users/ethan/coding/python'</span></div></pre></td></tr></table></figure>
</li>
<li><p>os.path.dirname：获取文件或文件夹的路径</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.dirname(<span class="string">'/Users/ethan/coding/python/hello.py'</span>)</div><div class="line"><span class="string">'/Users/ethan/coding/python'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.dirname(<span class="string">'/Users/ethan/coding/python/'</span>)</div><div class="line"><span class="string">'/Users/ethan/coding/python'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.dirname(<span class="string">'/Users/ethan/coding/python'</span>)</div><div class="line"><span class="string">'/Users/ethan/coding'</span></div></pre></td></tr></table></figure>
</li>
<li><p>os.path.basename：获取文件名或文件夹名</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.basename(<span class="string">'/Users/ethan/coding/python/hello.py'</span>)</div><div class="line"><span class="string">'hello.py'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.basename(<span class="string">'/Users/ethan/coding/python/'</span>)</div><div class="line"><span class="string">''</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.basename(<span class="string">'/Users/ethan/coding/python'</span>)</div><div class="line"><span class="string">'python'</span></div></pre></td></tr></table></figure>
</li>
<li><p>os.path.splitext：分离文件名与扩展名</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.splitext(<span class="string">'/Users/ethan/coding/python/hello.py'</span>)</div><div class="line">(<span class="string">'/Users/ethan/coding/python/hello'</span>, <span class="string">'.py'</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.splitext(<span class="string">'/Users/ethan/coding/python'</span>)</div><div class="line">(<span class="string">'/Users/ethan/coding/python'</span>, <span class="string">''</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.splitext(<span class="string">'/Users/ethan/coding/python/'</span>)</div><div class="line">(<span class="string">'/Users/ethan/coding/python/'</span>, <span class="string">''</span>)</div></pre></td></tr></table></figure>
</li>
<li><p>os.path.split：分离目录与文件名</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.split(<span class="string">'/Users/ethan/coding/python/hello.py'</span>)</div><div class="line">(<span class="string">'/Users/ethan/coding/python'</span>, <span class="string">'hello.py'</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.split(<span class="string">'/Users/ethan/coding/python/'</span>)</div><div class="line">(<span class="string">'/Users/ethan/coding/python'</span>, <span class="string">''</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.split(<span class="string">'/Users/ethan/coding/python'</span>)</div><div class="line">(<span class="string">'/Users/ethan/coding'</span>, <span class="string">'python'</span>)</div><div class="line">os.path.isfile/os.path.isdir</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.isfile(<span class="string">'/Users/ethan/coding/python/hello.py'</span>)</div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.isdir(<span class="string">'/Users/ethan/coding/python/'</span>)</div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.isdir(<span class="string">'/Users/ethan/coding/python'</span>)</div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.isdir(<span class="string">'/Users/ethan/coding/python/hello.py'</span>)</div><div class="line"><span class="keyword">False</span></div></pre></td></tr></table></figure>
</li>
<li><p>os.walk<br>os.walk 是遍历目录常用的模块，它返回一个包含 3 个元素的元祖：(dirpath, dirnames, filenames)。dirpath 是以 string 字符串形式返回该目录下所有的绝对路径；dirnames 是以列表 list 形式返回每一个绝对路径下的文件夹名字；filesnames 是以列表 list 形式返回该路径下所有文件名字。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> root, dirs, files <span class="keyword">in</span> os.walk(<span class="string">'/Users/ethan/coding'</span>):</div><div class="line"><span class="meta">... </span>    <span class="keyword">print</span> root</div><div class="line"><span class="meta">... </span>    <span class="keyword">print</span> dirs</div><div class="line"><span class="meta">... </span>    <span class="keyword">print</span> files</div><div class="line">...</div><div class="line">/Users/ethan/coding</div><div class="line">[<span class="string">'python'</span>]</div><div class="line">[]</div><div class="line">/Users/ethan/coding/python</div><div class="line">[<span class="string">'web2'</span>]</div><div class="line">[<span class="string">'hello.py'</span>]</div><div class="line">/Users/ethan/coding/python/web2</div><div class="line">[]</div><div class="line">[]</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="常见用法二"><a href="#常见用法二" class="headerlink" title="常见用法二"></a>常见用法二</h3><p>其他较常见函数列表如下：</p>
<ul>
<li>os.sep:取代操作系统特定的路径分隔符</li>
<li>os.name:指示你正在使用的工作平台。比如对于Windows，它是’nt’，而对于Linux/Unix用户，它是’posix’。</li>
<li>os.getenv()和os.putenv:分别用来读取和设置环境变量</li>
<li>os.listdir(name):返回指定目录下的所有文件和目录名</li>
<li>os.stat（file）:获得文件属性</li>
<li>os.chmod(file):修改文件权限和时间戳</li>
<li>os.removedirs（r“c：\python”）:删除多个目录</li>
<li>os.environ:对环境变量进行映射</li>
<li>os.system():运行shell命令</li>
<li>os.exit():终止当前进程</li>
<li>os.linesep:给出当前平台的行终止符。例如，Windows使用’\r\n’，Linux使用’\n’而Mac使用’\r’</li>
<li>os.curdir:返回当前目录（’.’）</li>
<li>os.chdir(dirname):改变工作目录到dirname</li>
<li>os.pathsep:分隔路径的分隔符</li>
<li>os.path.existe():检验给出的路径是否真的存在</li>
<li>os.path.exists(name):判断是否存在文件或目录name</li>
<li>os.path.getsize(name):或得文件大小，如果name是目录返回0L</li>
<li>os.path.isabs():判断是否为绝对路径</li>
<li>os.path.normpath(path):规范path字符串形式</li>
</ul>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><pre><code>shutil.copyfile(&quot;oldfile&quot;,&quot;newfile&quot;)       
</code></pre><p>复制文件，oldfile和newfile都只能是文件</p>
<pre><code>shutil.copy(&quot;oldfile&quot;,&quot;newfile&quot;)            
</code></pre><p>oldfile只能是文件夹，newfile可以是文件，也可以是目标目录</p>
<pre><code>shutil.copytree(&quot;olddir&quot;,&quot;newdir&quot;)        
</code></pre><p>复制文件夹.olddir和newdir都只能是目录，且newdir必须不存在</p>
<pre><code>shutil.move(&quot;oldpos&quot;,&quot;newpos&quot;)   
</code></pre><p>移动文件（目录）</p>
<pre><code>os.rmdir(&quot;dir&quot;)
</code></pre><p>只能删除空目录</p>
<pre><code>shutil.rmtree(&quot;dir&quot;)
</code></pre><p>空目录、有内容的目录都可以删    </p>
<h2 id="fileinput"><a href="#fileinput" class="headerlink" title="fileinput"></a>fileinput</h2><h3 id="典型用法"><a href="#典型用法" class="headerlink" title="典型用法"></a>典型用法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> fileinput</div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fileinput.input():</div><div class="line">    process(line)</div></pre></td></tr></table></figure>
<h3 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h3><p>fileinput.input()       #返回能够用于for循环遍历的对象<br>fileinput.filename()    #返回当前文件的名称<br>fileinput.lineno()      #返回当前已经读取的行的数量（或者序号）<br>fileinput.filelineno()  #返回当前读取的行的行号<br>fileinput.isfirstline() #检查当前行是否是文件的第一行<br>fileinput.isstdin()     #判断最后一行是否从stdin中读取<br>fileinput.close()       #关闭队列  </p>
<h3 id="常见例子"><a href="#常见例子" class="headerlink" title="常见例子"></a>常见例子</h3><p>例子01: 利用fileinput读取一个文件所有行<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> fileinput  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> line <span class="keyword">in</span> fileinput.input(<span class="string">'data.txt'</span>):  </div><div class="line">        <span class="keyword">print</span> line,  </div><div class="line"><span class="comment">#输出结果  </span></div><div class="line">Python  </div><div class="line">Java   </div><div class="line">C/C++  </div><div class="line">Shell</div></pre></td></tr></table></figure></p>
<p>命令行方式:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#test.py  </span></div><div class="line"><span class="keyword">import</span> fileinput  </div><div class="line">  </div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fileinput.input():  </div><div class="line">    <span class="keyword">print</span> fileinput.filename(),<span class="string">'|'</span>,<span class="string">'Line Number:'</span>,fileinput.lineno(),<span class="string">'|: '</span>,line  </div><div class="line">  </div><div class="line">c:&gt;python test.py data.txt  </div><div class="line">data.txt | Line Number: <span class="number">1</span> |:  Python  </div><div class="line">data.txt | Line Number: <span class="number">2</span> |:  Java  </div><div class="line">data.txt | Line Number: <span class="number">3</span> |:  C/C++  </div><div class="line">data.txt | Line Number: <span class="number">4</span> |:  Shell</div></pre></td></tr></table></figure></p>
<p>例子02: 利用fileinput对多文件操作，并原地修改内容<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#test.py  </span></div><div class="line"><span class="comment">#---样本文件---  </span></div><div class="line">c:\Python27&gt;type <span class="number">1.</span>txt  </div><div class="line">first  </div><div class="line">second  </div><div class="line">  </div><div class="line">c:\Python27&gt;type <span class="number">2.</span>txt  </div><div class="line">third  </div><div class="line">fourth  </div><div class="line"><span class="comment">#---样本文件---  </span></div><div class="line"><span class="keyword">import</span> fileinput  </div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">process</span><span class="params">(line)</span>:</span>  </div><div class="line">    <span class="keyword">return</span> line.rstrip() + <span class="string">' line'</span>  </div><div class="line">  </div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fileinput.input([<span class="string">'1.txt'</span>,<span class="string">'2.txt'</span>],inplace=<span class="number">1</span>):  </div><div class="line">    <span class="keyword">print</span> process(line)  </div><div class="line">  </div><div class="line"><span class="comment">#---结果输出---  </span></div><div class="line">c:\Python27&gt;type <span class="number">1.</span>txt  </div><div class="line">first line  </div><div class="line">second line  </div><div class="line">  </div><div class="line">c:\Python27&gt;type <span class="number">2.</span>txt  </div><div class="line">third line  </div><div class="line">fourth line  </div><div class="line"><span class="comment">#---结果输出---</span></div></pre></td></tr></table></figure></p>
<p>命令行方式:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#test.py  </span></div><div class="line"><span class="keyword">import</span> fileinput  </div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">process</span><span class="params">(line)</span>:</span>  </div><div class="line">    <span class="keyword">return</span> line.rstrip() + <span class="string">' line'</span>  </div><div class="line">  </div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fileinput.input(inplace = <span class="keyword">True</span>):  </div><div class="line">    <span class="keyword">print</span> process(line)  </div><div class="line">  </div><div class="line"><span class="comment">#执行命令  </span></div><div class="line">c:\Python27&gt;python test.py <span class="number">1.</span>txt <span class="number">2.</span>txt</div></pre></td></tr></table></figure></p>
<p>例子03: 利用fileinput实现文件内容替换，并将原文件作备份<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#样本文件:  </span></div><div class="line"><span class="comment">#data.txt  </span></div><div class="line">Python  </div><div class="line">Java  </div><div class="line">C/C++  </div><div class="line">Shell  </div><div class="line">  </div><div class="line"><span class="comment">#FileName: test.py  </span></div><div class="line"><span class="keyword">import</span> fileinput  </div><div class="line">  </div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fileinput.input(<span class="string">'data.txt'</span>,backup=<span class="string">'.bak'</span>,inplace=<span class="number">1</span>):  </div><div class="line">    <span class="keyword">print</span> line.rstrip().replace(<span class="string">'Python'</span>,<span class="string">'Perl'</span>)  <span class="comment">#或者print line.replace('Python','Perl'),  </span></div><div class="line">      </div><div class="line"><span class="comment">#最后结果:  </span></div><div class="line"><span class="comment">#data.txt  </span></div><div class="line">Python  </div><div class="line">Java  </div><div class="line">C/C++  </div><div class="line">Shell  </div><div class="line"><span class="comment">#并生成:  </span></div><div class="line"><span class="comment">#data.txt.bak文件  </span></div><div class="line"><span class="comment">#其效果等同于下面的方式  </span></div><div class="line"><span class="keyword">import</span> fileinput  </div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fileinput.input():  </div><div class="line">    <span class="keyword">print</span> <span class="string">'Tag:'</span>,line,  </div><div class="line">  </div><div class="line">  </div><div class="line"><span class="comment">#---测试结果:     </span></div><div class="line">d:\&gt;python Learn.py &lt; data.txt &gt; data_out.txt</div></pre></td></tr></table></figure></p>
<p>例子04: 利用fileinput将CRLF文件转为LF<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> fileinput  </div><div class="line"><span class="keyword">import</span> sys  </div><div class="line">  </div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fileinput.input(inplace=<span class="keyword">True</span>):  </div><div class="line">    <span class="comment">#将Windows/DOS格式下的文本文件转为Linux的文件  </span></div><div class="line">    <span class="keyword">if</span> line[<span class="number">-2</span>:] == <span class="string">"\r\n"</span>:    </div><div class="line">        line = line + <span class="string">"\n"</span>  </div><div class="line">    sys.stdout.write(line)</div></pre></td></tr></table></figure></p>
<p>例子05: 利用fileinput对文件简单处理</p>
<p>略</p>
<p>例子06: 利用fileinput批处理文件<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#---测试文件: test.txt test1.txt test2.txt test3.txt---  </span></div><div class="line"><span class="comment">#---脚本文件: test.py---  </span></div><div class="line"><span class="keyword">import</span> fileinput  </div><div class="line"><span class="keyword">import</span> glob  </div><div class="line">  </div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fileinput.input(glob.glob(<span class="string">"test*.txt"</span>)):  </div><div class="line">    <span class="keyword">if</span> fileinput.isfirstline():  </div><div class="line">        <span class="keyword">print</span> <span class="string">'-'</span>*<span class="number">20</span>, <span class="string">'Reading %s...'</span> % fileinput.filename(), <span class="string">'-'</span>*<span class="number">20</span>  </div><div class="line">    <span class="keyword">print</span> str(fileinput.lineno()) + <span class="string">': '</span> + line.upper(),  </div><div class="line">      </div><div class="line">      </div><div class="line"><span class="comment">#---输出结果:  </span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>  </div><div class="line">-------------------- Reading test.txt... --------------------  </div><div class="line"><span class="number">1</span>: AAAAA  </div><div class="line"><span class="number">2</span>: BBBBB  </div><div class="line"><span class="number">3</span>: CCCCC  </div><div class="line"><span class="number">4</span>: DDDDD  </div><div class="line"><span class="number">5</span>: FFFFF  </div><div class="line">-------------------- Reading test1.txt... --------------------  </div><div class="line"><span class="number">6</span>: FIRST LINE  </div><div class="line"><span class="number">7</span>: SECOND LINE  </div><div class="line">-------------------- Reading test2.txt... --------------------  </div><div class="line"><span class="number">8</span>: THIRD LINE  </div><div class="line"><span class="number">9</span>: FOURTH LINE  </div><div class="line">-------------------- Reading test3.txt... --------------------  </div><div class="line"><span class="number">10</span>: THIS IS LINE <span class="number">1</span>  </div><div class="line"><span class="number">11</span>: THIS IS LINE <span class="number">2</span>  </div><div class="line"><span class="number">12</span>: THIS IS LINE <span class="number">3</span>  </div><div class="line"><span class="number">13</span>: THIS IS LINE <span class="number">4</span></div></pre></td></tr></table></figure></p>
<p>例子07: 利用fileinput及re做日志分析: 提取所有含日期的行<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">#--样本文件--  </div><div class="line">aaa  </div><div class="line">1970-01-01 13:45:30  Error: **** Due to System Disk spacke not enough...  </div><div class="line">bbb  </div><div class="line">1970-01-02 10:20:30  Error: **** Due to System Out of Memory...  </div><div class="line">ccc  </div><div class="line">  </div><div class="line">#---测试脚本---  </div><div class="line">import re  </div><div class="line">import fileinput  </div><div class="line">import sys  </div><div class="line">  </div><div class="line">pattern = '\d&#123;4&#125;-\d&#123;2&#125;-\d&#123;2&#125; \d&#123;2&#125;:\d&#123;2&#125;:\d&#123;2&#125;'  </div><div class="line">  </div><div class="line">for line in fileinput.input('error.log',backup='.bak',inplace=1):  </div><div class="line">    if re.search(pattern,line):  </div><div class="line">        sys.stdout.write("=&gt; ")  </div><div class="line">        sys.stdout.write(line)  </div><div class="line">  </div><div class="line">#---测试结果---  </div><div class="line">=&gt; 1970-01-01 13:45:30  Error: **** Due to System Disk spacke not enough...  </div><div class="line">=&gt; 1970-01-02 10:20:30  Error: **** Due to System Out of Memory...</div></pre></td></tr></table></figure></p>
<p>例子08: 利用fileinput及re做分析: 提取符合条件的电话号码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#---样本文件: phone.txt---  </span></div><div class="line"><span class="number">010</span><span class="number">-110</span><span class="number">-12345</span>  </div><div class="line"><span class="number">800</span><span class="number">-333</span><span class="number">-1234</span>  </div><div class="line"><span class="number">010</span><span class="number">-99999999</span>  </div><div class="line"><span class="number">05718888888</span>  </div><div class="line"><span class="number">021</span><span class="number">-88888888</span>  </div><div class="line">  </div><div class="line"><span class="comment">#---测试脚本: test.py---  </span></div><div class="line"><span class="keyword">import</span> re  </div><div class="line"><span class="keyword">import</span> fileinput  </div><div class="line">  </div><div class="line">pattern = <span class="string">'[010|021]-\d&#123;8&#125;'</span>  <span class="comment">#提取区号为010或021电话号码，格式:010-12345678  </span></div><div class="line">  </div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fileinput.input(<span class="string">'phone.txt'</span>):  </div><div class="line">    <span class="keyword">if</span> re.search(pattern,line):  </div><div class="line">        <span class="keyword">print</span> <span class="string">'='</span> * <span class="number">50</span>  </div><div class="line">        <span class="keyword">print</span> <span class="string">'Filename:'</span>+ fileinput.filename()+<span class="string">' | Line Number:'</span>+str(fileinput.lineno())+<span class="string">' | '</span>+line,  </div><div class="line">  </div><div class="line"><span class="comment">#---输出结果:---  </span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>  </div><div class="line">==================================================  </div><div class="line">Filename:phone.txt | Line Number:<span class="number">3</span> | <span class="number">010</span><span class="number">-99999999</span>  </div><div class="line">==================================================  </div><div class="line">Filename:phone.txt | Line Number:<span class="number">5</span> | <span class="number">021</span><span class="number">-88888888</span>  </div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure></p>
<p>例子09: 利用fileinput实现类似于grep的功能<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> sys  </div><div class="line"><span class="keyword">import</span> re  </div><div class="line"><span class="keyword">import</span> fileinput  </div><div class="line">  </div><div class="line">pattern= re.compile(sys.argv[<span class="number">1</span>])  </div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fileinput.input(sys.argv[<span class="number">2</span>]):  </div><div class="line">    <span class="keyword">if</span> pattern.match(line):  </div><div class="line">        <span class="keyword">print</span> fileinput.filename(), fileinput.filelineno(), line  </div><div class="line">$ ./test.py <span class="keyword">import</span>.*re *.py  </div><div class="line"><span class="comment">#查找所有py文件中，含import re字样的  </span></div><div class="line">addressBook.py  <span class="number">2</span>   <span class="keyword">import</span> re  </div><div class="line">addressBook1.py <span class="number">10</span>  <span class="keyword">import</span> re  </div><div class="line">addressBook2.py <span class="number">18</span>  <span class="keyword">import</span> re  </div><div class="line">test.py         <span class="number">238</span> <span class="keyword">import</span> re</div></pre></td></tr></table></figure></p>
<p>例子10: 利用fileinput做正则替换<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line">#---测试样本: input.txt  </div><div class="line">* [Learning Python](#author:Mark Lutz)  </div><div class="line">      </div><div class="line">#---测试脚本: test.py  </div><div class="line">import fileinput  </div><div class="line">import re  </div><div class="line">   </div><div class="line">for line in fileinput.input():  </div><div class="line">    line = re.sub(r'\* </div><div class="line">(.∗)</div><div class="line">#(.*)', r'&lt;h2 id="\2"&gt;\1&lt;/h2&gt;', line.rstrip())  </div><div class="line">    print(line)  </div><div class="line">  </div><div class="line">#---输出结果:  </div><div class="line">c:\Python27&gt;python test.py input.txt  </div><div class="line">&lt;h2 id="author:Mark Lutz"&gt;Learning Python&lt;/h2&gt;  </div><div class="line">例子11: 利用fileinput做正则替换，不同字模块之间的替换</div><div class="line">#---测试样本:test.txt  </div><div class="line">[@!$First]&amp;[*%-Second]&amp;[Third]  </div><div class="line">  </div><div class="line">#---测试脚本:test.py  </div><div class="line">import re  </div><div class="line">import fileinput  </div><div class="line">  </div><div class="line">regex = re.compile(r'^([^&amp;]*)(&amp;)([^&amp;]*)(&amp;)([^&amp;]*)')  </div><div class="line">#整行以&amp;分割，要实现[@!$First]与[*%-Second]互换  </div><div class="line">for line in fileinput.input('test.txt',inplace=1,backup='.bak'):  </div><div class="line">    print regex.sub(r'\3\2\1\4\5',line),  </div><div class="line">  </div><div class="line">#---输出结果:  </div><div class="line">[*%-Second]&amp;[@!$First]&amp;[Third]  </div><div class="line">例子12: 利用fileinput根据argv命令行输入做替换</div><div class="line">#---样本数据: host.txt  </div><div class="line"># localhost is used to configure the loopback interface  </div><div class="line"># when the system is booting.  Do not change this entry.  </div><div class="line">127.0.0.1      localhost  </div><div class="line">192.168.100.2  www.test2.com  </div><div class="line">192.168.100.3  www.test3.com  </div><div class="line">192.168.100.4  www.test4.com  </div><div class="line">  </div><div class="line">#---测试脚本: test.py  </div><div class="line">import sys  </div><div class="line">import fileinput  </div><div class="line">  </div><div class="line">source = sys.argv[1]  </div><div class="line">target = sys.argv[2]  </div><div class="line">files  = sys.argv[3:]  </div><div class="line">  </div><div class="line">for line in fileinput.input(files,backup='.bak',openhook=fileinput.hook_encoded("gb2312")):  </div><div class="line">    #对打开的文件执行中文字符集编码  </div><div class="line">    line = line.rstrip().replace(source,target)  </div><div class="line">    print line  </div><div class="line">      </div><div class="line">#---输出结果:      </div><div class="line">c:\&gt;python test.py 192.168.100 127.0.0 host.txt  </div><div class="line">#将host文件中，所有192.168.100转换为:127.0.0  </div><div class="line">127.0.0.1  localhost  </div><div class="line">127.0.0.2  www.test2.com  </div><div class="line">127.0.0.3  www.test3.com  </div><div class="line">127.0.0.4  www.test4.com</div></pre></td></tr></table></figure></p>
<h2 id="集合（set）类型"><a href="#集合（set）类型" class="headerlink" title="集合（set）类型"></a>集合（set）类型</h2><p>python的set和其他语言类似, 是一个无序不重复元素集, 基本功能包括关系测试和消除重复元素. 集合对象还支持union(联合), intersection(交), difference(差)和sysmmetric difference(对称差集)等数学运算。注：set不需要通过import引入。</p>
<p>sets 支持 x in set, len(set),和 for x in set。作为一个无序的集合，sets不记录元素位置或者插入点。因此，sets不支持 indexing, slicing, 或其它类序列（sequence-like）的操作。 </p>
<h3 id="set示例"><a href="#set示例" class="headerlink" title="set示例"></a>set示例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>a = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">#创建一个数值集合set</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b = set([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> a,b</div><div class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]), set([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>x = set(<span class="string">'spam'</span>) <span class="comment"># 创建一个唯一字符集合set</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> x</div><div class="line">set([<span class="string">'a'</span>, <span class="string">'p'</span>, <span class="string">'s'</span>, <span class="string">'m'</span>])</div></pre></td></tr></table></figure>
<p>集合set与列表和元组不同，集合是无序的，也无法通过数字进行索引。同时，集合中的元素不能重复。利用集合set元素不重复这个特性，可以去除list列表中的重复值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">11</span>,<span class="number">22</span>]  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b = set(a)  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b  </div><div class="line">set([<span class="number">33</span>, <span class="number">11</span>, <span class="number">44</span>, <span class="number">22</span>])  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>c = [i <span class="keyword">for</span> i <span class="keyword">in</span> b]  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>c  </div><div class="line">[<span class="number">33</span>, <span class="number">11</span>, <span class="number">44</span>, <span class="number">22</span>] </div><div class="line"><span class="comment"># 此法也可用于list和set之间的互换</span></div></pre></td></tr></table></figure>
<h3 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line">a = t | s          <span class="comment"># t 和 s的并集    </span></div><div class="line">b = t &amp; s          <span class="comment"># t 和 s的交集   </span></div><div class="line">c = t – s          <span class="comment"># 求差集（项在t中，但不在s中）    </span></div><div class="line">d = t ^ s          <span class="comment"># 对称差集（t和s中不重复项） </span></div><div class="line"></div><div class="line">t.add(<span class="string">'x'</span>)            <span class="comment"># 添加一项  </span></div><div class="line">s.update([<span class="number">10</span>,<span class="number">37</span>,<span class="number">42</span>])  <span class="comment"># 在s中添加多项  </span></div><div class="line">t.remove(<span class="string">'H'</span>)		  <span class="comment"># 移除其中一项</span></div><div class="line">len(s)		  		  <span class="comment"># set 的长度</span></div><div class="line">x <span class="keyword">in</span> s  			  <span class="comment"># 测试 x 是否是 s 的成员  </span></div><div class="line">x <span class="keyword">not</span> <span class="keyword">in</span> s  		  <span class="comment"># 测试 x 是否不是 s 的成员  </span></div><div class="line"></div><div class="line">s.issubset(t)  </div><div class="line">s &lt;= t  </div><div class="line"><span class="comment"># 测试是否 s 中的每一个元素都在 t 中  </span></div><div class="line">  </div><div class="line">s.issuperset(t)  </div><div class="line">s &gt;= t  </div><div class="line"><span class="comment"># 测试是否 t 中的每一个元素都在 s 中  </span></div><div class="line">  </div><div class="line">s.union(t)  </div><div class="line">s | t  </div><div class="line"><span class="comment"># 返回一个新的 set 包含 s 和 t 中的每一个元素  </span></div><div class="line">  </div><div class="line">s.intersection(t)  </div><div class="line">s &amp; t  </div><div class="line"><span class="comment"># 返回一个新的 set 包含 s 和 t 中的公共元素  </span></div><div class="line">  </div><div class="line">s.difference(t)  </div><div class="line">s - t  </div><div class="line"><span class="comment"># 返回一个新的 set 包含 s 中有但是 t 中没有的元素  </span></div><div class="line">  </div><div class="line">s.symmetric_difference(t)  </div><div class="line">s ^ t  </div><div class="line"><span class="comment"># 返回一个新的 set 包含 s 和 t 中不重复的元素  </span></div><div class="line">  </div><div class="line">s.copy()  </div><div class="line"><span class="comment"># 返回 set “s”的一个浅复制</span></div><div class="line"><span class="comment"># 注 s.copy() is s: False</span></div><div class="line"></div><div class="line">s.update(t)  </div><div class="line">s |= t  </div><div class="line"><span class="comment"># 返回增加了 set “t”中元素后的 set “s”  </span></div><div class="line">  </div><div class="line">s.intersection_update(t)  </div><div class="line">s &amp;= t  </div><div class="line"><span class="comment"># 返回只保留含有 set “t”中元素的 set “s”  </span></div><div class="line">  </div><div class="line">s.difference_update(t)  </div><div class="line">s -= t  </div><div class="line"><span class="comment"># 返回删除了 set “t”中含有的元素后的 set “s”  </span></div><div class="line">  </div><div class="line">s.symmetric_difference_update(t)  </div><div class="line">s ^= t  </div><div class="line"><span class="comment"># 返回含有 set “t”或者 set “s”中有而不是两者都有的元素的 set “s”  </span></div><div class="line">  </div><div class="line">s.add(x)  </div><div class="line"><span class="comment"># 向 set “s”中增加元素 x  </span></div><div class="line">  </div><div class="line">s.remove(x)  </div><div class="line"><span class="comment"># 从 set “s”中删除元素 x, 如果不存在则引发 KeyError  </span></div><div class="line">  </div><div class="line">s.discard(x)  </div><div class="line"><span class="comment"># 如果在 set “s”中存在元素 x, 则删除  </span></div><div class="line">  </div><div class="line">s.pop()  </div><div class="line"><span class="comment"># 删除并且返回 set “s”中的一个不确定的元素, 如果为空则引发 KeyError  </span></div><div class="line">  </div><div class="line">s.clear()  </div><div class="line"><span class="comment"># 删除 set “s”中的所有元素</span></div></pre></td></tr></table></figure>
<p>参考：<a href="http://blog.csdn.net/business122/article/details/7541486" target="_blank" rel="external"> Python集合（set）类型的操作</a></p>
<h2 id="range和xrange"><a href="#range和xrange" class="headerlink" title="range和xrange"></a>range和xrange</h2><p>range和xrange都不用引入import，都可直接使用。</p>
<p>range函数用法：range([start,] stop[, step])，根据start与stop指定的范围以及step设定的步长，生成一个序列。</p>
<p>range示例:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">5</span>) </div><div class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>] </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">1</span>,<span class="number">5</span>) </div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>] </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">0</span>,<span class="number">6</span>,<span class="number">2</span>)</div><div class="line">[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>]</div></pre></td></tr></table></figure></p>
<p>xrange用法和range完全相同，所不同的是生成的不是一个数组，而是一个生成器。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>y = xrange(<span class="number">5</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> y</div><div class="line">xrange(y)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> type(y)</div><div class="line">&lt;type <span class="string">'xrange'</span>&gt;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>list(y)</div><div class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</div></pre></td></tr></table></figure></p>
<p>由上面的示例可以知道：要生成很大的数字序列的时候，用xrange会比range性能优很多，因为不需要一上来就开辟一块很大的内存空间.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#循环中的用法</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">100</span>): </div><div class="line"><span class="keyword">print</span> i </div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">0</span>, <span class="number">100</span>): </div><div class="line"><span class="keyword">print</span> i </div><div class="line"><span class="comment">#以上这两个输出的结果都是一样的，实际上有很多不同，range会直接生成一个list对象：</span></div><div class="line">a = range(<span class="number">0</span>,<span class="number">100</span>) </div><div class="line"><span class="keyword">print</span> type(a) </div><div class="line"><span class="keyword">print</span> a </div><div class="line"><span class="keyword">print</span> a[<span class="number">0</span>], a[<span class="number">1</span>] </div><div class="line"></div><div class="line"><span class="comment">#输出结果</span></div><div class="line">&lt;type <span class="string">'list'</span>&gt;</div><div class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>, <span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>, <span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>, <span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>, <span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>]</div><div class="line"><span class="number">0</span> <span class="number">1</span></div><div class="line"></div><div class="line"><span class="comment">#而xrange则不会直接生成一个list，而是每次调用返回其中的一个值</span></div><div class="line">a = xrange(<span class="number">0</span>,<span class="number">100</span>) </div><div class="line"><span class="keyword">print</span> type(a) </div><div class="line"><span class="keyword">print</span> a </div><div class="line"><span class="keyword">print</span> a[<span class="number">0</span>], a[<span class="number">1</span>] </div><div class="line"></div><div class="line"><span class="comment">#输出结果：</span></div><div class="line">&lt;type <span class="string">'xrange'</span>&gt;</div><div class="line">xrange(<span class="number">100</span>)</div><div class="line"><span class="number">0</span> <span class="number">1</span></div></pre></td></tr></table></figure></p>
<h2 id="time"><a href="#time" class="headerlink" title="time"></a>time</h2><p>在Python中，与时间处理有关的模块就包括：time，datetime以及calendar</p>
<p>在开始之前，首先要说明这几点：</p>
<ol>
<li>在Python中，通常有这几种方式来表示时间：1）时间戳timestamp； 2）格式化的时间字符串； 3）元组（struct_time，共九个元素）。由于Python的time模块实现主要调用C库，所以各个平台可能有所不同。</li>
<li>UTC（Coordinated Universal Time，世界协调时）亦即格林威治天文时间，世界标准时间。在中国为UTC+8。DST（Daylight Saving Time）即夏令时。</li>
<li>时间戳（timestamp）的方式：通常来说，时间戳表示的是从1970年1月1日00:00:00开始按秒计算的偏移量。我们运行“type(time.time())”，返回的是float类型。返回时间戳方式的函数主要有time()，clock()等。</li>
<li>元组（struct_time）方式：struct_time元组共有9个元素，返回struct_time的函数主要有全球统一时间gmtime()，localtime()，strptime()。下面列出这种方式元组中的几个元素：</li>
</ol>
<p>元组的九个元素如下表所示：</p>
<table>
<thead>
<tr>
<th>索引（Index）</th>
<th>属性（Attribute）</th>
<th>值（Values）</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>tm_year（年）</td>
<td>比如2011</td>
</tr>
<tr>
<td>1</td>
<td>tm_mon（月）</td>
<td>1 - 12</td>
</tr>
<tr>
<td>2</td>
<td>tm_mday（日）</td>
<td>1 - 31</td>
</tr>
<tr>
<td>3</td>
<td>tm_hour（时）</td>
<td>0 - 23</td>
</tr>
<tr>
<td>4</td>
<td>tm_min（分）</td>
<td>0 - 59</td>
</tr>
<tr>
<td>5</td>
<td>tm_sec（秒）</td>
<td>0 - 61（包含闰秒和双闰秒）</td>
</tr>
<tr>
<td>6</td>
<td>tm_wday（weekday）</td>
<td>0 - 6（0表示周一）</td>
</tr>
<tr>
<td>7</td>
<td>tm_yday（一年中的第几天）</td>
<td>1 - 366</td>
</tr>
<tr>
<td>8</td>
<td>tm_isdst（是否是夏令时）</td>
<td>默认为-1,0,1</td>
</tr>
</tbody>
</table>
<h3 id="常用函数-1"><a href="#常用函数-1" class="headerlink" title="常用函数"></a>常用函数</h3><h4 id="time-localtime-secs"><a href="#time-localtime-secs" class="headerlink" title="time.localtime([secs])"></a>time.localtime([secs])</h4><p>将一个时间戳转换为当前时区的struct_time。secs参数未提供，则以当前时间为准。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>time.localtime()</div><div class="line">time.struct_time(tm_year=<span class="number">2011</span>, tm_mon=<span class="number">5</span>, tm_mday=<span class="number">5</span>, tm_hour=<span class="number">14</span>, tm_min=<span class="number">14</span>, tm_sec=<span class="number">50</span>, tm_wday=<span class="number">3</span>, tm_yday=<span class="number">125</span>, tm_isdst=<span class="number">0</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>time.localtime(<span class="number">1304575584.1361799</span>)</div><div class="line">time.struct_time(tm_year=<span class="number">2011</span>, tm_mon=<span class="number">5</span>, tm_mday=<span class="number">5</span>, tm_hour=<span class="number">14</span>, tm_min=<span class="number">6</span>, tm_sec=<span class="number">24</span>, tm_wday=<span class="number">3</span>, tm_yday=<span class="number">125</span>, tm_isdst=<span class="number">0</span>)</div></pre></td></tr></table></figure>
<h4 id="time-gmtime-secs"><a href="#time-gmtime-secs" class="headerlink" title="time.gmtime([secs])"></a>time.gmtime([secs])</h4><p>和localtime()方法类似，gmtime()方法是将一个时间戳转换为UTC时区（0时区）的struct_time。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;time.gmtime()</div><div class="line">time.struct_time(tm_year=<span class="number">2011</span>, tm_mon=<span class="number">5</span>, tm_mday=<span class="number">5</span>, tm_hour=<span class="number">6</span>, tm_min=<span class="number">19</span>, tm_sec=<span class="number">48</span>, tm_wday=<span class="number">3</span>, tm_yday=<span class="number">125</span>, tm_isdst=<span class="number">0</span>)</div></pre></td></tr></table></figure>
<h4 id="time-sleep-secs"><a href="#time-sleep-secs" class="headerlink" title="time.sleep(secs)"></a>time.sleep(secs)</h4><p>休眠（不做任何事情，推迟）secs秒</p>
<h4 id="time-time"><a href="#time-time" class="headerlink" title="time.time()"></a>time.time()</h4><p>返回当前时间的时间戳。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>time.time() </div><div class="line"><span class="number">1304575584.1361799</span></div></pre></td></tr></table></figure>
<h4 id="time-mktime-t"><a href="#time-mktime-t" class="headerlink" title="time.mktime(t)"></a>time.mktime(t)</h4><p>将一个struct_time转化为时间戳。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>time.mktime(time.localtime())</div><div class="line"><span class="number">1304576839.0</span></div></pre></td></tr></table></figure>
<h4 id="time-sleep-secs-1"><a href="#time-sleep-secs-1" class="headerlink" title="time.sleep(secs)"></a>time.sleep(secs)</h4><p>线程推迟指定的时间运行。单位为秒。</p>
<h4 id="time-clock"><a href="#time-clock" class="headerlink" title="time.clock()"></a>time.clock()</h4><p>这个需要注意，在不同的系统上含义不同。在UNIX系统上，它返回的是“进程时间”，它是用秒表示的浮点数（时间戳）。而在WINDOWS中，第一次调用，返回的是进程运行的实际时间。而第二次之后的调用是自第一次调用以后到现在的运行时间。（实际上是以WIN32上QueryPerformanceCounter()为基础，它比毫秒表示更为精确）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> time  </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:  </div><div class="line">    time.sleep(<span class="number">1</span>)  </div><div class="line">    <span class="keyword">print</span> <span class="string">"clock1:%s"</span> % time.clock()  </div><div class="line">    time.sleep(<span class="number">1</span>)  </div><div class="line">    <span class="keyword">print</span> <span class="string">"clock2:%s"</span> % time.clock()  </div><div class="line">    time.sleep(<span class="number">1</span>)  </div><div class="line">    <span class="keyword">print</span> <span class="string">"clock3:%s"</span> % time.clock()</div><div class="line"></div><div class="line"><span class="comment">#运行结果</span></div><div class="line">clock1:<span class="number">3.35238137808e-006</span> </div><div class="line">clock2:<span class="number">1.00004944763</span> </div><div class="line">clock3:<span class="number">2.00012040636</span></div><div class="line"><span class="comment">#其中第一个clock()输出的是程序运行时间</span></div><div class="line"><span class="comment">#第二、三个clock()输出的都是与第一个clock的时间间隔</span></div></pre></td></tr></table></figure>
<h4 id="time-asctime-t"><a href="#time-asctime-t" class="headerlink" title="time.asctime([t])"></a>time.asctime([t])</h4><p>把一个表示时间的元组或者struct_time表示为这种形式：’Sun Jun 20 23:21:05 1993’。如果没有参数，将会将time.localtime()作为参数传入。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>time.asctime()</div><div class="line"><span class="string">'Thu May 5 14:55:43 2011'</span></div></pre></td></tr></table></figure>
<h4 id="time-ctime-secs"><a href="#time-ctime-secs" class="headerlink" title="time.ctime([secs])"></a>time.ctime([secs])</h4><p>把一个时间戳（按秒计算的浮点数）转化为time.asctime()的形式。如果参数未给或者为None的时候，将会默认time.time()为参数。它的作用相当于time.asctime(time.localtime(secs))。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>time.ctime()</div><div class="line"><span class="string">'Thu May 5 14:58:09 2011'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>time.ctime(time.time())</div><div class="line"><span class="string">'Thu May 5 14:58:39 2011'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>time.ctime(<span class="number">1304579615</span>)</div><div class="line"><span class="string">'Thu May 5 15:13:35 2011'</span></div></pre></td></tr></table></figure>
<h4 id="time-strftime-format-t"><a href="#time-strftime-format-t" class="headerlink" title="time.strftime(format[, t])"></a>time.strftime(format[, t])</h4><p>把一个代表时间的元组或者struct_time（如由time.localtime()和time.gmtime()返回）转化为格式化的时间字符串。如果t未指定，将传入time.localtime()。如果元组中任何一个元素越界，ValueError的错误将会被抛出。</p>
<p>日期格式化对照表如下：<br>|格式    |含义|<br>|-|-|<br>|%a    |本地（locale）简化星期名称|<br>|%A    |本地完整星期名称|<br>|%b    |本地简化月份名称|<br>|%B    |本地完整月份名称|<br>|%c    |本地相应的日期和时间表示|<br>|%d    |一个月中的第几天（01 - 31）|<br>|%H    |一天中的第几个小时（24小时制，00 - 23）|<br>|%I    |第几个小时（12小时制，01 - 12）|<br>|%j    |一年中的第几天（001 - 366）|<br>|%m    |月份（01 - 12）|<br>|%M    |分钟数（00 - 59）|<br>|%p    |本地am或者pm的相应符|<br>|%S    |秒（01 - 61）|<br>|%U    |一年中的星期数。（00 - 53星期天是一个星期的开始。）第一个星期天之前的所有天数都放在第0周|<br>|%w    |一个星期中的第几天（0 - 6，0是星期天）|<br>|%W    |和%U基本相同，不同的是%W以星期一为一个星期的开始|<br>|%x    |本地相应日期|<br>|%X    |本地相应时间|<br>|%y    |去掉世纪的年份（00 - 99）|<br>|%Y    |完整的年份|<br>|%Z    |时区的名字（如果不存在为空字符）|<br>|%%    |‘%’字符|</p>
<p>按常用习惯排列如下：<br>|格式    |含义|<br>|-|-|<br>|%Y    |完整的年份 例：2017|<br>|%m    |月份（01 - 12）例：09|<br>|%d    |一个月中的第几天（01 - 31） 例：21|<br>|%H    |一天中的第几个小时（24小时制，00 - 23）|<br>|%M    |分钟数（00 - 59）|<br>|%S    |秒（01 - 61）|<br>|%B    |本地完整月份名称 例：September|<br>|%A    |本地完整星期名称 例：Monday|<br>|%y    |去掉世纪的年份（00 - 99） 即短日期表示 例：17（年）|<br>|%b    |本地简化月份名称 例：Sep|<br>|%a    |本地（locale）简化星期名称 例：Mon|<br>|%c    |本地相应的日期和时间表示 例：09/21/17 17:59:07|<br>|%x    |本地相应日期 例：09/21/17|<br>|%X    |本地相应时间 例：17:59:07|<br>|%I    |第几个小时（12小时制，01 - 12）|<br>|%p    |本地am或者pm的相应符|<br>|%j    |一年中的第几天（001 - 366）|<br>|%U    |一年中的星期数。（00 - 53星期天是一个星期的开始。）第一个星期天之前的所有天数都放在第0周|<br>|%W    |和%U基本相同，不同的是%W以星期一为一个星期的开始|<br>|%w    |一个星期中的第几天（0 - 6，0是星期天）|<br>|%Z    |时区的名字（如果不存在为空字符）|<br>|%%    |‘%’字符|</p>
<p>备注：</p>
<ol>
<li>“%p”只有与“%I”配合使用才有效果。</li>
<li>文档中强调确实是0 - 61，而不是59，闰年秒占两秒（汗一个）。</li>
<li>当使用strptime()函数时，只有当在这年中的周数和天数被确定的时候%U和%W才会被计算。</li>
</ol>
<p>举个例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>time.strftime(<span class="string">"%Y-%m-%d %X"</span>, time.localtime())</div><div class="line"><span class="string">'2011-05-05 16:37:06'</span></div></pre></td></tr></table></figure>
<h4 id="time-strptime-string-format"><a href="#time-strptime-string-format" class="headerlink" title="time.strptime(string[, format])"></a>time.strptime(string[, format])</h4><p>把一个格式化时间字符串转化为struct_time。实际上它和strftime()是逆操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>time.strptime(<span class="string">'2011-05-05 16:37:06'</span>, <span class="string">'%Y-%m-%d %X'</span>)</div><div class="line">time.struct_time(tm_year=<span class="number">2011</span>, tm_mon=<span class="number">5</span>, tm_mday=<span class="number">5</span>, tm_hour=<span class="number">16</span>, tm_min=<span class="number">37</span>, tm_sec=<span class="number">6</span>, tm_wday=<span class="number">3</span>, tm_yday=<span class="number">125</span>, tm_isdst=<span class="number">-1</span>)</div></pre></td></tr></table></figure>
<p>在这个函数中，format默认为：”%a %b %d %H:%M:%S %Y”。</p>
<p>最后，我们来对time模块进行一个总结。根据之前描述，在Python中共有三种表达方式：1）timestamp 2）tuple或者struct_time 3）格式化字符串。</p>
<p>它们之间的转化如图所示：<br><img src="/images/python-3-1.png" alt="三者关系"></p>
<h2 id="Calendar"><a href="#Calendar" class="headerlink" title="Calendar"></a>Calendar</h2><p>此模块的函数都是日历相关的，例如打印某月的字符月历。<br>星期一是默认的每周第一天，星期天是默认的最后一天。更改设置需调用calendar.setfirstweekday()函数。</p>
<h3 id="常用函数-2"><a href="#常用函数-2" class="headerlink" title="常用函数"></a>常用函数</h3><table>
<thead>
<tr>
<th>序号</th>
<th>函数及描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>calendar.calendar(year,w=2,l=1,c=6)</td>
</tr>
<tr>
<td></td>
<td>返回一个多行字符串格式的<strong>year年年历</strong>，3个月一行，间隔距离为c。 每日宽度间隔为w字符。每行长度为21<em> W+18+2</em> C。l是每星期行数。参数可省略</td>
</tr>
<tr>
<td>2</td>
<td>calendar.firstweekday()</td>
</tr>
<tr>
<td></td>
<td>返回当前每周起始日期的设置。默认情况下，首次载入caendar模块时返回0，即星期一。</td>
</tr>
<tr>
<td>3</td>
<td>calendar.isleap(year)</td>
</tr>
<tr>
<td></td>
<td>是闰年返回True，否则为false。</td>
</tr>
<tr>
<td>4</td>
<td>calendar.leapdays(y1,y2)</td>
</tr>
<tr>
<td></td>
<td>返回在Y1，Y2两年之间的闰年总数。</td>
</tr>
<tr>
<td>5</td>
<td>calendar.month(year,month,w=2,l=1)</td>
</tr>
<tr>
<td></td>
<td>返回一个多行字符串格式的<strong>year年month月日历</strong>，两行标题，一周一行。每日宽度间隔为w字符。每行的长度为7* w+6。l是每星期的行数。参数可省略</td>
</tr>
<tr>
<td>6</td>
<td>calendar.monthcalendar(year,month)</td>
</tr>
<tr>
<td></td>
<td>返回一个整数的单层嵌套列表。每个子列表装载代表一个星期的整数。Year年month月外的日期都设为0;范围内的日子都由该月第几日表示，从1开始。list形式</td>
</tr>
<tr>
<td>7</td>
<td>calendar.monthrange(year,month)</td>
</tr>
<tr>
<td></td>
<td>返回两个整数。第一个是该月的星期几的日期码，第二个是该月的日期码。例：(2017, 10) -&gt; (6, 31),第二个参数为当月日期数，第一个参数待深究</td>
</tr>
<tr>
<td>8</td>
<td>calendar.prcal(year,w=2,l=1,c=6)</td>
</tr>
<tr>
<td></td>
<td>直接打印出整理好的年历。相当于 print calendar.calendar(year,w,l,c).</td>
</tr>
<tr>
<td>9</td>
<td>calendar.prmonth(year,month,w=2,l=1)</td>
</tr>
<tr>
<td></td>
<td>直接打印出月日历。相当于 print calendar.month(year，w，l，c)。</td>
</tr>
<tr>
<td>10</td>
<td>calendar.setfirstweekday(weekday)</td>
</tr>
<tr>
<td></td>
<td>设置每周的起始日期码。0（星期一）到6（星期日）。</td>
</tr>
<tr>
<td>11</td>
<td>calendar.timegm(tupletime)</td>
</tr>
<tr>
<td></td>
<td>和time.gmtime相反：接受一个时间元组形式，返回该时刻的时间辍（1970纪元后经过的浮点秒数）。</td>
</tr>
<tr>
<td>12</td>
<td>calendar.weekday(year,month,day)</td>
</tr>
<tr>
<td></td>
<td>返回给定日期的日期码。0（星期一）到6（星期日）。月份为 1（一月） 到 12（12月）。</td>
</tr>
</tbody>
</table>
<p>建议实际使用 <code>a=calendar.function()</code>, <code>print a</code>方式输出</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> calendar</div><div class="line"></div><div class="line">cal = calendar.month(<span class="number">2016</span>, <span class="number">1</span>)</div><div class="line"><span class="keyword">print</span> <span class="string">"以下输出2016年1月份的日历:"</span></div><div class="line"><span class="keyword">print</span> cal</div><div class="line"></div><div class="line"><span class="comment">#输出2016年1月份的日历:</span></div><div class="line">    January <span class="number">2016</span></div><div class="line">Mo Tu We Th Fr Sa Su</div><div class="line">             <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span></div><div class="line"> <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span></div><div class="line"><span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span></div><div class="line"><span class="number">18</span> <span class="number">19</span> <span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span></div><div class="line"><span class="number">25</span> <span class="number">26</span> <span class="number">27</span> <span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span></div></pre></td></tr></table></figure>
<h2 id="datetime"><a href="#datetime" class="headerlink" title="datetime"></a>datetime</h2><p>datatime模块重新封装了time模块，提供更多接口，提供的类有：date,time,datetime,timedelta,tzinfo。</p>
<h3 id="date类"><a href="#date类" class="headerlink" title="date类"></a>date类</h3><p>date 类表示一个日期（由年、月、日组成），其原型如下：</p>
<p><code>class datetime.date(year, month, day)</code></p>
<p>参数说明：</p>
<ol>
<li>year 的范围是 [MINYEAR, MAXYEAR]，即 [1, 9999]；</li>
<li>month 的范围是[1, 12]。（月份是从1开始的，不是从0开始）；</li>
<li>day 的最大值根据给定的year, month参数来决定。例如闰年2月份有29天；</li>
</ol>
<p>date 类定义了一些常用的类方法与类属性：</p>
<ol>
<li>date.max、date.min：date对象所能表示的最大、最小日期；</li>
<li>date.resolution：date对象表示日期的最小单位。这里是天。</li>
<li>date.today()：返回一个表示当前本地日期的 date 对象；</li>
<li>date.fromtimestamp(timestamp)：根据给定的时间戮，返回一个 date 对象；</li>
<li>datetime.fromordinal(ordinal)：将Gregorian日历时间转换为date对象；（Gregorian Calendar：一种日历表示方法，类似于我国的农历，西方国家使用比较多）</li>
</ol>
<p>使用示例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.date.max</div><div class="line">datetime.date(<span class="number">9999</span>, <span class="number">12</span>, <span class="number">31</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.date.min</div><div class="line">datetime.date(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.date.resolution</div><div class="line">datetime.timedelta(<span class="number">1</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.date.today()</div><div class="line">datetime.date(<span class="number">2016</span>, <span class="number">5</span>, <span class="number">12</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.date.fromtimestamp(time.time())</div><div class="line">datetime.date(<span class="number">2016</span>, <span class="number">5</span>, <span class="number">12</span>)</div></pre></td></tr></table></figure></p>
<p>date提供的实例方法和属性：</p>
<ol>
<li>date.year、date.month、date.day：年、月、日；</li>
<li>date.replace(year, month, day)：生成一个新的日期对象，用参数指定的年，月，日代替原有对象中的属性。（原有对象仍保持不变）</li>
<li>date.timetuple()：返回日期对应的time.struct_time对象；</li>
<li>date.toordinal()：返回日期对应的Gregorian Calendar日期；</li>
<li>date.weekday()：返回weekday，如果是星期一，返回0；如果是星期2，返回1，以此类推；</li>
<li>data.isoweekday()：返回weekday，如果是星期一，返回1；如果是星期2，返回2，以此类推；</li>
<li>date.isocalendar()：返回格式如(year，month，day)的元组；</li>
<li>date.isoformat()：返回格式如’YYYY-MM-DD’的字符串；</li>
<li>date.strftime(fmt)：自定义格式化字符串。</li>
</ol>
<p>使用示例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>today = datetime.date.today()</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>today.year</div><div class="line"><span class="number">2016</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>today.month</div><div class="line"><span class="number">5</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>today.day</div><div class="line"><span class="number">12</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tomorrow = today.replace(day=<span class="number">13</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tomorrow</div><div class="line">datetime.date(<span class="number">2016</span>, <span class="number">5</span>, <span class="number">13</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tomorrow.timetuple()</div><div class="line">time.struct_time(tm_year=<span class="number">2016</span>, tm_mon=<span class="number">5</span>, tm_mday=<span class="number">13</span>, tm_hour=<span class="number">0</span>, tm_min=<span class="number">0</span>, tm_sec=<span class="number">0</span>, tm_wday=<span class="number">4</span>, tm_yday=<span class="number">134</span>, tm_isdst=<span class="number">-1</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tomorrow.toordinal()</div><div class="line"><span class="number">736097</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tomorrow.weekday()</div><div class="line"><span class="number">4</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tomorrow.isoweekday()</div><div class="line"><span class="number">5</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tomorrow.isocalendar()</div><div class="line">(<span class="number">2016</span>, <span class="number">19</span>, <span class="number">5</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tomorrow.isoformat()</div><div class="line"><span class="string">'2016-05-13'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tomorrow.strftime(<span class="string">"%y-%m-%d"</span>)</div><div class="line"><span class="string">'16-05-13'</span></div></pre></td></tr></table></figure></p>
<p>date 重载了简单的运算符<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#date 允许对日期进行加减和比较：</span></div><div class="line"><span class="comment">#日期加上一个间隔，返回一个新的日期对象</span></div><div class="line">date2 = date1 + timedelta</div><div class="line"><span class="comment">#日期隔去间隔，返回一个新的日期对象</span></div><div class="line">date2 = date1 - timedelta</div><div class="line"><span class="comment">#两个日期相减，返回一个时间间隔对象</span></div><div class="line">timedelta = date1 - date2</div><div class="line"><span class="comment">#两个日期进行比较</span></div><div class="line">date1 &lt; date2</div></pre></td></tr></table></figure></p>
<p>使用示例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>now = datetime.date.today()</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>now</div><div class="line">datetime.date(<span class="number">2016</span>, <span class="number">5</span>, <span class="number">12</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>now += datetime.date.resolution</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>now</div><div class="line">datetime.date(<span class="number">2016</span>, <span class="number">5</span>, <span class="number">13</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>now -= datetime.date.resolution</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>now</div><div class="line">datetime.date(<span class="number">2016</span>, <span class="number">5</span>, <span class="number">12</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>now &lt; datetime.date.max</div><div class="line"><span class="keyword">True</span></div></pre></td></tr></table></figure></p>
<h3 id="Time类"><a href="#Time类" class="headerlink" title="Time类"></a>Time类</h3><p>time 类表示时间（由时、分、秒以及微秒组成），其原型如下：</p>
<p><code>class datetime.time(hour=0, minute=0, second=0, microsecond=0, tzinfo=None)</code></p>
<p>参数说明:</p>
<ol>
<li>hour 的范围为[0, 24),</li>
<li>minute 的范围为[0, 60)，</li>
<li>second 的范围为[0, 60)，</li>
<li>microsecond 的范围为[0, 1000000),</li>
<li>tzinfo 表示时区信息。</li>
</ol>
<p>time 类定义的类属性：</p>
<ol>
<li>time.min、time.max：time类所能表示的最小、最大时间。其中，time.min = time(0, 0, 0, 0)， time.max = time(23, 59, 59, 999999)；</li>
<li>time.resolution：时间的最小单位，这里是1微秒；</li>
</ol>
<p>使用示例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.time.min</div><div class="line">datetime.time(<span class="number">0</span>, <span class="number">0</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.time.max</div><div class="line">datetime.time(<span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>, <span class="number">999999</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.time.resolution</div><div class="line">datetime.timedelta(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)</div></pre></td></tr></table></figure></p>
<p>time类提供的实例方法和属性：</p>
<ol>
<li>time.hour、time.minute、time.second、time.microsecond：时、分、秒、微秒；</li>
<li>time.tzinfo：时区信息；</li>
<li>time.replace([hour[, minute[, second[, microsecond[, tzinfo]]]]])：创建一个新的时间对象，用参数指定的时、分、秒、微秒代替原有对象中的属性（原有对象仍保持不变）；</li>
<li>time.isoformat()：返回型如”HH:MM:SS”格式的字符串表示；</li>
<li>time.strftime(fmt)：返回自定义格式化字符串。</li>
</ol>
<p>使用示例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>tm = datetime.time(<span class="number">18</span>, <span class="number">18</span>, <span class="number">18</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tm.hour</div><div class="line"><span class="number">18</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tm.minute</div><div class="line"><span class="number">18</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tm.second</div><div class="line"><span class="number">18</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tm.microsecond</div><div class="line"><span class="number">0</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tm.tzinfo</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tm.isoformat()</div><div class="line"><span class="string">'18:18:18'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tm.replace(hour=<span class="number">20</span>)</div><div class="line">datetime.time(<span class="number">20</span>, <span class="number">18</span>, <span class="number">18</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tm.strftime(<span class="string">"%I:%M:%S %p"</span>)</div><div class="line"><span class="string">'06:18:18 PM'</span></div></pre></td></tr></table></figure></p>
<p>time 类的对象只能进行比较，无法进行加减操作。</p>
<h3 id="datetime-类"><a href="#datetime-类" class="headerlink" title="datetime 类"></a>datetime 类</h3><p>datetime 是 date 与 time 的结合体，包括 date 与 time 的所有信息。其原型如下：</p>
<p><code>class datetime.datetime(year, month, day, hour=0, minute=0, second=0, microsecond=0, tzinfo=None)</code></p>
<p>各参数的含义与date、time的构造函数中的一样，要注意参数值的范围。</p>
<p>datetime类定义的类属性与方法：</p>
<ol>
<li>datetime.min、datetime.max：datetime所能表示的最小值与最大值；</li>
<li>datetime.resolution：datetime最小单位；</li>
<li>datetime.today()：返回一个表示当前本地时间的datetime对象；</li>
<li>datetime.now([tz])：返回一个表示当前本地时间的datetime对象，如果提供了参数tz，则获取tz参数所指时区的本地时间；</li>
<li>datetime.utcnow()：返回一个当前utc时间的datetime对象；</li>
<li>datetime.fromtimestamp(timestamp[, tz])：根据时间戮创建一个datetime对象，参数tz指定时区信息；</li>
<li>datetime.utcfromtimestamp(timestamp)：根据时间戮创建一个datetime对象；</li>
<li>datetime.combine(date, time)：根据date和time，创建一个datetime对象；</li>
<li>datetime.strptime(date_string, format)：将格式字符串转换为datetime对象，data 与 time 类没有提供该方法。</li>
</ol>
<p>使用示例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.min</div><div class="line">datetime.datetime(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.max</div><div class="line">datetime.datetime(<span class="number">9999</span>, <span class="number">12</span>, <span class="number">31</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>, <span class="number">999999</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.resolution</div><div class="line">datetime.timedelta(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> datetime.datetime.resolution</div><div class="line"><span class="number">0</span>:<span class="number">00</span>:<span class="number">00.000001</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>today = datetime.datetime.today()</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>today</div><div class="line">datetime.datetime(<span class="number">2016</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">246240</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.now()</div><div class="line">datetime.datetime(<span class="number">2016</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">47</span>, <span class="number">9</span>, <span class="number">850643</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.utcnow()</div><div class="line">datetime.datetime(<span class="number">2016</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">4</span>, <span class="number">47</span>, <span class="number">42</span>, <span class="number">188124</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.fromtimestamp(time.time())</div><div class="line">datetime.datetime(<span class="number">2016</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">48</span>, <span class="number">40</span>, <span class="number">459676</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.combine(datetime.date(<span class="number">1990</span>, <span class="number">10</span>, <span class="number">05</span>), datetime.time(<span class="number">18</span>, <span class="number">18</span>, <span class="number">18</span>))</div><div class="line">datetime.datetime(<span class="number">1990</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">18</span>, <span class="number">18</span>, <span class="number">18</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.strptime(<span class="string">"2010-04-07 01:48:16.234000"</span>, <span class="string">"%Y-%m-%d %H:%M:%S .%f"</span>)</div><div class="line">datetime.datetime(<span class="number">2010</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">48</span>, <span class="number">16</span>, <span class="number">234000</span>)</div></pre></td></tr></table></figure></p>
<p>datetime 的实例方法与属性</p>
<p>datetime类提供的实例方法与属性大部分功能与 date 和 time 类似，这里仅罗列方法名不再赘述：</p>
<ol>
<li>datetime.year、month、day、hour、minute、second、microsecond、tzinfo：</li>
<li>datetime.date()：获取date对象；</li>
<li>datetime.time()：获取time对象；</li>
<li>datetime.replace([year[, month[, day[, hour[, minute[, second[, microsecond[, tzinfo]]]]]]]])：</li>
<li><strong>datetime.timetuple() </strong></li>
<li><strong>datetime.utctimetuple() </strong></li>
<li>datetime.toordinal()</li>
<li>datetime.weekday()</li>
<li>datetime.isocalendar()</li>
<li>datetime.isoformat([sep])</li>
<li>datetime.ctime()：返回一个日期时间的C格式字符串，等效于time.ctime(time.mktime(dt.timetuple()))；</li>
<li>datetime.strftime(format)</li>
</ol>
<p>datetime 对象同样可以进行比较，或者相减返回一个时间间隔对象，或者日期时间加上一个间隔返回一个新的日期时间对象。</p>
<h3 id="timedelta-类"><a href="#timedelta-类" class="headerlink" title="timedelta 类"></a>timedelta 类</h3><p>datetime.timedelta 对象代表两个时间之间的的时间差，两个 date 或 datetime 对象相减时可以返回一个timedelta 对象。其原型如下：</p>
<p><code>class datetime.timedelta(days=0, seconds=0, microseconds=0, milliseconds=0, minutes=0, hours=0, weeks=0)</code></p>
<p>所有参数可选，且默认都是0，参数的值可以是整数，浮点数，正数或负数。</p>
<p>内部只存储days，seconds，microseconds，其他参数的值会自动按如下规则抓转换：</p>
<ol>
<li>1 millisecond（毫秒） 转换成 1000 microseconds（微秒）</li>
<li>1 minute 转换成 60 seconds</li>
<li>1 hour 转换成 3600 seconds</li>
<li>1 week转换成 7 days</li>
</ol>
<p><code>b = a + datetime.timedelta(hours=5)</code><br><code>c = a + datetime.timedelta(weeks=1)</code></p>
<p>三个参数的取值范围分别为：</p>
<ol>
<li>0 &lt;= microseconds &lt; 1000000</li>
<li>0 &lt;= seconds &lt; 3600*24 (the number of seconds in one day)</li>
<li>-999999999 &lt;= days &lt;= 999999999</li>
</ol>
<p>timedelta 类定义的类属性：</p>
<ol>
<li>timedelta.min：时间间隔对象的最小值,即 timedelta(-999999999).</li>
<li>timedelta.max：时间间隔对象的最大值，即 timedelta(days=999999999, hours=23, minutes=59, seconds=59, microseconds=999999).</li>
<li>timedelta.resolution：时间间隔的最小单位,即 timedelta(microseconds=1).</li>
</ol>
<p>使用示例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.timedelta.min</div><div class="line">datetime.timedelta(<span class="number">-999999999</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.timedelta.max</div><div class="line">datetime.timedelta(<span class="number">999999999</span>, <span class="number">86399</span>, <span class="number">999999</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.timedelta.resolution</div><div class="line">datetime.timedelta(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> datetime.timedelta.resolution</div><div class="line"><span class="number">0</span>:<span class="number">00</span>:<span class="number">00.000001</span></div></pre></td></tr></table></figure></p>
<p>timedelta 实例方法</p>
<ol>
<li>timedelta.total_seconds()：计算时间间隔的总秒数</li>
</ol>
<p>使用示例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.timedelta.resolution.total_seconds()</div><div class="line"><span class="number">1e-06</span></div></pre></td></tr></table></figure></p>
<h2 id="timeit"><a href="#timeit" class="headerlink" title="timeit"></a>timeit</h2><p>timeit模块提供了一种简便的方法来为Python中的小块代码进行计时。它有三种使用方式，从命令行调用，从Python交互解释器调用，或者直接在脚本代码中进行调用。基于实际应用出发，本文阐述timeit模块在交互解释器以及脚本中的基础使用方法。</p>
<h3 id="主要方法"><a href="#主要方法" class="headerlink" title="主要方法"></a>主要方法</h3><p>timeit模块主要方法有三个，timeit()、Timer()和repeat()用法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">timeit(stmt=<span class="string">"pass"</span>, setup=<span class="string">"pass"</span>, timer=default_timer, number=default_number)</div><div class="line">    = Timer(stmt, setup, timer).timeit(number)</div><div class="line"></div><div class="line">repeat(stmt=<span class="string">"pass"</span>, setup=<span class="string">"pass"</span>, timer=default_timer, repeat=default_repeat, number=default_number)</div><div class="line">    = Timer(stmt, setup, timer).repeat(repeat, number)</div><div class="line"><span class="comment">#repeat() 方法返回以秒记录的每个测试循环的耗时列表。</span></div></pre></td></tr></table></figure>
<p>其中：</p>
<ol>
<li>stmt是执行语句，setup是导入执行语句环境。repeat 是重复整个测试的次数，number 是每个测试中执行语句的次数。<br>2.default_timer 在 win32 下是 time.clock()，在 linux 下是 time.time()</li>
<li>default_repeat = 3，default_number = 1000000</li>
</ol>
<p>上述用法示例可如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> timeit</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>t = timeit.Timer(<span class="string">"soundex.soundex('Pilgrim')"</span>, <span class="string">"import soundex"</span>)  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>t.timeit()              </div><div class="line"><span class="number">8.21683733547</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>t.repeat(<span class="number">3</span>, <span class="number">2000000</span>)    </div><div class="line">[<span class="number">16.48319309109</span>, <span class="number">16.46128984923</span>, <span class="number">16.44203948912</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>min(t.repeat(<span class="number">3</span>, <span class="number">1000000</span>)) <span class="comment">#返回测试最小值</span></div><div class="line"><span class="number">8.22203948912</span></div></pre></td></tr></table></figure></p>
<p>或如下使用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf8 -*-</span></div><div class="line"><span class="keyword">import</span> random</div><div class="line"><span class="keyword">import</span> timeit</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">randDiff</span><span class="params">( k,n )</span>:</span></div><div class="line">   <span class="comment"># '产生k个不相等的从1到n的随机数'</span></div><div class="line">    p = []</div><div class="line">    y1 = [random.randrange(<span class="number">1</span>,n+<span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> range(n)]</div><div class="line">    y2 = []</div><div class="line">    y2.extend(y1)</div><div class="line">    y1.sort()</div><div class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(k):</div><div class="line">        temp1 = y1[j]</div><div class="line">        temp2 = y2.index(temp1)</div><div class="line">        p.append(temp2 + <span class="number">1</span>)</div><div class="line">        y2[temp2] = <span class="number">-1</span></div><div class="line">    <span class="keyword">return</span> p</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">randDif</span><span class="params">(k,n)</span>:</span></div><div class="line">    <span class="string">'新函数,生成k个1到n之间不相等的随机数'</span></div><div class="line">    <span class="keyword">if</span> k&gt;n:</div><div class="line">        <span class="keyword">return</span> []</div><div class="line">    a = range(<span class="number">1</span>,n+<span class="number">1</span>)</div><div class="line">    random.shuffle(a)</div><div class="line">    <span class="keyword">return</span> a[:k]</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</div><div class="line">    <span class="keyword">print</span> timeit.repeat(<span class="string">"randDiff(3, 10)"</span>, <span class="string">"from __main__ import randDiff"</span>, timeit.default_timer, <span class="number">3</span>, <span class="number">10000</span>)</div><div class="line">    <span class="keyword">print</span> timeit.repeat(<span class="string">"randDif(3, 10)"</span>, <span class="string">"from __main__ import randDif"</span>, timeit.default_timer, <span class="number">3</span>, <span class="number">10000</span>)</div></pre></td></tr></table></figure>
<h3 id="在Python交互解释器中的使用"><a href="#在Python交互解释器中的使用" class="headerlink" title="在Python交互解释器中的使用"></a>在Python交互解释器中的使用</h3><p>timeit函数基本用法<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> timeit</div><div class="line">timeit.timeit(stmt=<span class="string">'pass'</span>, setup=<span class="string">'pass'</span>, timer=&lt;default timer&gt;, number=<span class="number">1000000</span>)</div></pre></td></tr></table></figure></p>
<p>使用示例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;<span class="keyword">import</span> timeit</div><div class="line">&gt;&gt;&gt;timeit.timeit(<span class="string">'"-".join(str(n) for n in range(100))'</span>, number=<span class="number">10000</span>)</div><div class="line"><span class="number">0.21051692962646484</span></div></pre></td></tr></table></figure></p>
<h3 id="repeat函数"><a href="#repeat函数" class="headerlink" title="repeat函数"></a>repeat函数</h3><p>repeat函数，指定整个试验的重复次数，返回一个包含了每次试验的执行时间的列表。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>timeit.repeat(<span class="string">'"-".join(str(n) for n in range(100))'</span>,repeat=<span class="number">3</span>, number=<span class="number">10000</span>)</div><div class="line">[<span class="number">0.21938705444335938</span>, <span class="number">0.21767210960388184</span>, <span class="number">0.21688294410705566</span>]</div></pre></td></tr></table></figure></p>
<h3 id="在脚本程序中的使用"><a href="#在脚本程序中的使用" class="headerlink" title="在脚本程序中的使用"></a>在脚本程序中的使用</h3><p>timeit模块同样可以在脚本中直接使用。使用方法还是调用上述的函数。但是在脚本中时需要为setup传入一条字符串形式的语句，用于构建执行环境。也可参照基本用法处的代码示例。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> timeit</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">()</span>:</span> <span class="comment"># 需要执行的function函数</span></div><div class="line">	L = []</div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>):</div><div class="line">		L.append(i)</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	<span class="keyword">print</span> timeit.timeit(<span class="string">"test()"</span>, setup=<span class="string">"from __main__ import test"</span>)</div></pre></td></tr></table></figure>
<h2 id="random"><a href="#random" class="headerlink" title="random"></a>random</h2><p>random是用于生成随机数的，我们可以利用它随机生成数字或者选择字符串。</p>
<p>random的用法主要包括random()、uniform()、randrang()、choice()、shuffle()、sample()几种用法。</p>
<h3 id="random-random"><a href="#random-random" class="headerlink" title="random.random()"></a>random.random()</h3><p>用于生成一个随机浮点数：range[0.0,1.0)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> random</div><div class="line">random.random()   <span class="comment">#输出 0.5487876445645461</span></div></pre></td></tr></table></figure>
<h3 id="random-uniform-a-b"><a href="#random-uniform-a-b" class="headerlink" title="random.uniform(a,b)"></a>random.uniform(a,b)</h3><p>用于生成一个指定范围内的随机浮点数，a,b为上下限，只要a!=b,就会生成介于两者之间的一个浮点数，若a=b，则生成的浮点数就是a</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> random</div><div class="line">random.uniform(<span class="number">10</span>,<span class="number">20</span>) <span class="comment">#输出 15.999997038152358</span></div><div class="line">random.uniform(<span class="number">20</span>,<span class="number">10</span>) <span class="comment">#输出 12.718038067741021</span></div><div class="line">random.uniform(<span class="number">10</span>,<span class="number">10</span>) <span class="comment">#输出 10.0</span></div></pre></td></tr></table></figure>
<h3 id="random-randint-a-b"><a href="#random-randint-a-b" class="headerlink" title="random.randint(a,b)"></a>random.randint(a,b)</h3><p>用于生成一个指定范围内的整数，a为下限，b为上限，生成的随机整数a&lt;=n&lt;=b;若a=b，则n=a；若a&gt;b，报错</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> random</div><div class="line">random.randint(<span class="number">10</span>,<span class="number">20</span>) <span class="comment">#输出 12</span></div><div class="line">random.randint(<span class="number">10</span>,<span class="number">10</span>) <span class="comment">#输出 10</span></div><div class="line">random.randint(<span class="number">20</span>,<span class="number">10</span>) <span class="comment">#Error</span></div></pre></td></tr></table></figure>
<h3 id="random-randrange-start-stop-step"><a href="#random-randrange-start-stop-step" class="headerlink" title="random.randrange([start], stop [,step])"></a>random.randrange([start], stop [,step])</h3><p>从指定范围内，按指定基数递增的集合中获取一个随机数，基数缺省值为1</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> random</div><div class="line">random.randrange(<span class="number">10</span>,<span class="number">100</span>) <span class="comment">#输出为10到100间的任意数</span></div><div class="line">random.randrange(<span class="number">10</span>,<span class="number">100</span>,<span class="number">4</span>) <span class="comment">#输出为10到100内以4递增的序列[10,14,18,22...]</span></div><div class="line">random.choice(range(<span class="number">10</span>,<span class="number">100</span>,<span class="number">4</span>)) <span class="comment">#输出在结果上与上一条等效</span></div></pre></td></tr></table></figure>
<h3 id="random-choice-sequence"><a href="#random-choice-sequence" class="headerlink" title="random.choice(sequence)"></a>random.choice(sequence)</h3><p>从序列中获取一个随机元素，参数sequence表示一个有序类型，并不是一种特定类型，泛指list，tuple，字符串等</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> random</div><div class="line">random.choice(range(<span class="number">10</span>)) <span class="comment">#输出0到10内随机整数</span></div><div class="line">random.choice(range(<span class="number">10</span>,<span class="number">100</span>,<span class="number">2</span>)) <span class="comment">#输出随机值[10,12,14,16...]</span></div><div class="line">random.choice(<span class="string">"I love python"</span>) <span class="comment">#输出随机字符I,o,v,p,y...</span></div><div class="line">random.choice((<span class="string">"I love python"</span>)) <span class="comment">#同上</span></div><div class="line">random.choice([<span class="string">"I love python"</span>]) <span class="comment">#输出“I love python”</span></div><div class="line">random.choice(<span class="string">"I"</span>,<span class="string">"love"</span>,<span class="string">"python"</span>) <span class="comment">#Error</span></div><div class="line">random.choice((<span class="string">"I"</span>,<span class="string">"love"</span>,<span class="string">"python"</span>)) <span class="comment">#输出随机字符串“I”，“love”，“python”</span></div><div class="line">random.choice([<span class="string">"I"</span>,<span class="string">"love"</span>,<span class="string">"python"</span>]) <span class="comment">#输出随机字符串“I”，“love”，“python”</span></div></pre></td></tr></table></figure>
<h3 id="random-shuffle-x-random"><a href="#random-shuffle-x-random" class="headerlink" title="random.shuffle(x[,random])"></a>random.shuffle(x[,random])</h3><p>用于将一个列表中的元素打乱 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> random</div><div class="line">list=[<span class="string">'I'</span>,<span class="string">'love'</span>,<span class="string">'python'</span>,<span class="string">'very'</span>,<span class="string">'much'</span>]</div><div class="line">random.shuffle(list)</div><div class="line"><span class="keyword">print</span> list     <span class="comment">#输出乱序list</span></div></pre></td></tr></table></figure>
<h3 id="random-sample-sequence-k"><a href="#random-sample-sequence-k" class="headerlink" title="random.sample(sequence,k)"></a>random.sample(sequence,k)</h3><p>从指定序列中随机获取k个元素作为一个片段返回，sample函数不会修改原有序列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> random</div><div class="line">a=<span class="string">'123456789'</span></div><div class="line">b=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</div><div class="line">c=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>]</div><div class="line">random.sample(a,<span class="number">3</span>)</div><div class="line">random.sample(b,<span class="number">3</span>)</div><div class="line">random.sample(c,<span class="number">3</span>)  <span class="comment">#随机取三个元素最为一个片段返回[6,4,3]</span></div><div class="line"><span class="keyword">print</span> a</div><div class="line"><span class="keyword">print</span> b</div><div class="line"><span class="keyword">print</span> c    <span class="comment">#a,b,c值不变</span></div></pre></td></tr></table></figure>
<h2 id="shelve"><a href="#shelve" class="headerlink" title="shelve"></a>shelve</h2><p>Shelve是python中一个用于持久化存储的模块，采用字典的存储形式。Shelve模块的好处是，基本上任何python对象都可以作为存储的键。作为一种简单的数据存储方案，其最有用的函数为<code>open()</code>。</p>
<p><code>open()</code>函数接收的参数就是文件名，然后返回一个shelf对象，可以用它来存储东西，也可以简单地把他当作一个字典。当存储完毕的时候，调用close()函数来关闭 。</p>
<p>需要注意的是，为了正确地使用shelve模块修改存储的对象，必须将临时变量绑定到获得的副本上，并且在修改后重新存储这个副本。或者直接将open()中writeback参数设为True。否则会导致修改后的内容没有存储好，导致数据丢失。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> shelve  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s = shelve.open(<span class="string">'test.dat'</span>)  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s[<span class="string">'x'</span>] = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s[<span class="string">'x'</span>].append(<span class="string">'d'</span>)  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s[<span class="string">'x'</span>]  </div><div class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</div></pre></td></tr></table></figure>
<p>解决办法之一为将临时变量绑定到获得的副本上。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>temp = s[<span class="string">'x'</span>]  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>temp.append(<span class="string">'d'</span>)  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s[<span class="string">'x'</span>] = temp  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s[<span class="string">'x'</span>]  </div><div class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>]</div></pre></td></tr></table></figure>
<p>一个完整的示例如下：</p>
<p>创建shelf对象，使用函数shelve.open()(使用的是anydbm）来存储数据。使用类或简单的调用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> shelve</div><div class="line"></div><div class="line">s = shelve.open(<span class="string">'test_shelf.db'</span>)  <span class="comment"># 创建test_shelf.db文件进行存储</span></div><div class="line"><span class="keyword">try</span>:</div><div class="line">    s[<span class="string">'key1'</span>] = &#123;<span class="string">'int'</span>:<span class="number">10</span>, <span class="string">'float'</span>:<span class="number">9.5</span>, <span class="string">'string'</span>: <span class="string">'Sample Data'</span>&#125;　<span class="comment">#　写入key1，值可以是python支持的对象，看起来和字典的用法一样</span></div><div class="line"><span class="keyword">finally</span>:</div><div class="line">    s.close()</div></pre></td></tr></table></figure>
<p>注意要使用<code>try...finally...</code>来调用。</p>
<p>访问已存储的数据，打开shelf,可以像字典一样进行使用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">s = shelve.open(<span class="string">'test_shelf.db'</span>)  <span class="comment"># 打开已存在的数据文件</span></div><div class="line"><span class="keyword">try</span>:</div><div class="line">    existing = s[<span class="string">'key1'</span>] <span class="comment"># 获取之前存储的key1</span></div><div class="line"><span class="keyword">finally</span>:</div><div class="line">    s.close()</div><div class="line"></div><div class="line">print(existing)  <span class="comment"># 打印s['key1'],会得到刚才存储的数据</span></div><div class="line"></div><div class="line"><span class="comment">#执行结果</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>python shelve_create.py</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>python shelve_existing.py</div><div class="line">&#123;<span class="string">'int'</span>: <span class="number">10</span>, <span class="string">'float'</span>: <span class="number">9.5</span>, <span class="string">'string'</span>: <span class="string">'Sample data'</span>&#125;</div></pre></td></tr></table></figure>
<p>dbm模块不支持多个应用同时写入同一数据库，如果客户端或程序不会修改shelf,请指定shelve以只读方式打开数据库。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">s = shelve.open(<span class="string">'test_shelf.db'</span>, flag=<span class="string">'r'</span>)   <span class="comment"># 打开时指定flag＝‘r'，只读模式打开</span></div><div class="line"><span class="keyword">try</span>:</div><div class="line">    existing =  s[<span class="string">'key1'</span>]</div><div class="line"><span class="keyword">finally</span>:</div><div class="line">    s.close()</div><div class="line"></div><div class="line"><span class="keyword">print</span> existing</div></pre></td></tr></table></figure></p>
<p>当数据库以只读模式打开，但又试图更改数据库时，会引起一个访问出错异常。这一异常类型依赖于在创建数据库时被anydbm选择的数据库模块。</p>
<p>写回示例。默认情况下，Shelves不去追踪可变对象的修改。意思就是，如果你改变了已存储在shelf中的一个项目的内容，就必须重新存储该项目来更新shelf.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">s = shelve.open(<span class="string">'test_shelf.db'</span>)</div><div class="line"><span class="keyword">try</span>:</div><div class="line">    <span class="keyword">print</span> s[<span class="string">'key1'</span>]</div><div class="line">    s[<span class="string">'key'</span>][<span class="string">'new_value'</span>] = <span class="string">'this is not here before'</span></div><div class="line"><span class="keyword">finally</span>:</div><div class="line">    s.close()</div><div class="line"></div><div class="line">s = shelve.open(<span class="string">'test_shelf.db'</span>, writeback = <span class="keyword">True</span>) <span class="comment"># 设置写回或同步</span></div><div class="line"><span class="keyword">try</span>:</div><div class="line">   <span class="keyword">print</span> s[<span class="string">'key1'</span>]</div><div class="line"><span class="keyword">finally</span>:</div><div class="line">    s.close()</div></pre></td></tr></table></figure></p>
<p>在这个例子中，没有对字典的关键字key1的内容进行存储，虽然打开时设置了writeback,因此重新打开shelf时，key1内容没有改变。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>python shelve_create.py</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>python shelve_withoutwriteback.py</div><div class="line">&#123;<span class="string">'int'</span>: <span class="number">10</span>, <span class="string">'float'</span>: <span class="number">9.5</span>, <span class="string">'string'</span>: <span class="string">'Sample data'</span>&#125;</div><div class="line">&#123;<span class="string">'int'</span>: <span class="number">10</span>, <span class="string">'float'</span>: <span class="number">9.5</span>, <span class="string">'string'</span>: <span class="string">'Sample data'</span>&#125;</div></pre></td></tr></table></figure></p>
<p>为了自动捕捉存储在shelf中的可变对象所发生的改变，需改变前设置writeback可用.writeback标志导致shelf使用一缓存来记住从数据库中调出的所有对象。当shelf关闭的时候，每一个缓存中的对象也重新写回数据库。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">s = shelve.open(<span class="string">'test_shelf.db'</span>, writeback=<span class="keyword">True</span>)</div><div class="line"><span class="keyword">try</span>:</div><div class="line">    print(s[<span class="string">'key1'</span>])</div><div class="line">    s[<span class="string">'key1'</span>][<span class="string">'new_value'</span>] = <span class="string">'this was not here before'</span></div><div class="line">    print(s[<span class="string">'key1'</span>])</div><div class="line"><span class="keyword">finally</span>;</div><div class="line">    s.close()</div><div class="line"></div><div class="line">s = shelve.open(<span class="string">'test_shelf.db'</span>, writeback=<span class="keyword">True</span>)</div><div class="line"><span class="keyword">try</span>:</div><div class="line">    print(s[<span class="string">'key1'</span>])</div><div class="line"><span class="keyword">finally</span>:</div><div class="line">    s.close()</div><div class="line"></div><div class="line"><span class="comment">#执行结果</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>python shelve_create.py</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>python shelve_writeback.py</div><div class="line">&#123;<span class="string">'int'</span>: <span class="number">10</span>, <span class="string">'float'</span>: <span class="number">9.5</span>, <span class="string">'string'</span>: <span class="string">'Sample data'</span>&#125;</div><div class="line">&#123;<span class="string">'int'</span>: <span class="number">10</span>, <span class="string">'new_value'</span>: <span class="string">'this was not here before'</span>, <span class="string">'float'</span>: <span class="number">9.5</span>, <span class="string">'string'</span>: <span class="string">'Sample data'</span>&#125;</div><div class="line">&#123;<span class="string">'int'</span>: <span class="number">10</span>, <span class="string">'new_value'</span>: <span class="string">'this was not here before'</span>, <span class="string">'float'</span>: <span class="number">9.5</span>, <span class="string">'string'</span>: <span class="string">'Sample data'</span>&#125;</div></pre></td></tr></table></figure>
<p>虽然使用writeback模式可用减少出错几率，也能更加透明化对象的持久性。但是，不是每种情况都要使用writeback模式。原因看到前面的示例，应该能猜到。当shelf打开时，缓存就要占用额外的内存。 并且，当shelf关闭时，同样会对缓存中的对象再次写回数据库，增加了开销。即使没有进行改变，仍然会进行数据写回。比较好的方式是，确认需要写入数据时，再设置writeback,读数据时设置只读或默认即可。</p>
<h2 id="csv"><a href="#csv" class="headerlink" title="csv"></a>csv</h2><p>csv库可识别Microsoft Excel所使用的CSV编码规则。csv库还包含修改分隔字符等，出于实际csv文件应用考虑，这里不阐述，如有需要可之后自行查阅。</p>
<h3 id="CSV格式简介"><a href="#CSV格式简介" class="headerlink" title="CSV格式简介"></a>CSV格式简介</h3><p>逗号分隔值（Comma-Separated Values，CSV，有时也称为字符分隔值，因为分隔字符也可以不是逗号），其文件以纯文本形式存储表格数据（数字和文本）。纯文本意味着该文件是一个字符序列，不含必须像二进制数字那样被解读的数据。CSV文件由任意数目的记录组成，记录间以某种换行符分隔；每条记录由字段组成，字段间的分隔符是其它字符或字符串，最常见的是逗号或制表符。通常，所有记录都有完全相同的字段序列。</p>
<h3 id="CSV文件注意点"><a href="#CSV文件注意点" class="headerlink" title="CSV文件注意点"></a>CSV文件注意点</h3><p>如果你正在读取CSV数据并将它们转换为命名元组，需要注意对列名进行合法性认证。一个CSV格式文件有一个包含非法标识符的列头行，这样最终会导致在创建一个命名元组时产生一个ValueError异常而失败。为了解决这问题，你可能不得不先去修正列标题。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> re</div><div class="line"><span class="keyword">with</span> open(<span class="string">'stock.csv'</span>) <span class="keyword">as</span> f:</div><div class="line">    f_csv = csv.reader(f)</div><div class="line">    headers = [ re.sub(<span class="string">'[^a-zA-Z_]'</span>, <span class="string">'_'</span>, h) <span class="keyword">for</span> h <span class="keyword">in</span> next(f_csv) ]</div><div class="line">    Row = namedtuple(<span class="string">'Row'</span>, headers)</div><div class="line">    <span class="keyword">for</span> r <span class="keyword">in</span> f_csv:</div><div class="line">        row = Row(*r)</div><div class="line">        <span class="comment"># Process row</span></div><div class="line">        ...</div></pre></td></tr></table></figure>
<p>还有重要的一点需要强调的是，CSV产生的数据都是字符串类型的，它不会做任何其他类型的转换。如果你需要做这样的类型转换，你必须自己手动去实现。</p>
<h3 id="简单使用"><a href="#简单使用" class="headerlink" title="简单使用"></a>简单使用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 读取csv文件</span></div><div class="line"><span class="keyword">import</span> csv</div><div class="line"><span class="keyword">with</span> open(<span class="string">'some.csv'</span>, <span class="string">'rb'</span>) <span class="keyword">as</span> f:        <span class="comment"># 采用b的方式处理可以省去很多问题</span></div><div class="line">    reader = csv.reader(f)</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</div><div class="line">        <span class="comment"># do something with row, such as row[0],row[1]</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">import</span> csv</div><div class="line"><span class="keyword">with</span> open(<span class="string">'some.csv'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:      <span class="comment"># 采用b的方式处理可以省去很多问题</span></div><div class="line">    writer = csv.writer(f)</div><div class="line">    writer.writerows(someiterable)</div></pre></td></tr></table></figure>
<h3 id="字典方式读写"><a href="#字典方式读写" class="headerlink" title="字典方式读写"></a>字典方式读写</h3><p>csv还提供了一种类似于字典方式的读写，方式如下:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">class csv.DictReader(csvfile, fieldnames=None, restkey=None, restval=None, dialect='excel', *args, **kwds)</div><div class="line"></div><div class="line">class csv.DictWriter(csvfile, fieldnames, restval='', extrasaction='raise', dialect='excel', *args, **kwds)</div></pre></td></tr></table></figure>
<p>其中fieldnames指定字典的key值，如果reader里没有指定那么默认第一行的元素(header)，在writer里一定要指定这个。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 读</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> csv</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> open(<span class="string">'names.csv'</span>) <span class="keyword">as</span> csvfile:</div><div class="line"><span class="meta">... </span>    reader = csv.DictReader(csvfile)</div><div class="line"><span class="meta">... </span>    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</div><div class="line"><span class="meta">... </span>        print(row[<span class="string">'first_name'</span>], row[<span class="string">'last_name'</span>])</div><div class="line">...</div><div class="line">Baked Beans</div><div class="line">Lovely Spam</div><div class="line">Wonderful Spam</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># 写</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> csv</div><div class="line"><span class="keyword">with</span> open(<span class="string">'names.csv'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> csvfile:</div><div class="line">    fieldnames = [<span class="string">'first_name'</span>, <span class="string">'last_name'</span>]</div><div class="line">    writer = csv.DictWriter(csvfile, fieldnames=fieldnames)</div><div class="line"></div><div class="line">    writer.writeheader()</div><div class="line">    writer.writerow(&#123;<span class="string">'first_name'</span>: <span class="string">'Baked'</span>, <span class="string">'last_name'</span>: <span class="string">'Beans'</span>&#125;)</div><div class="line">    writer.writerow(&#123;<span class="string">'first_name'</span>: <span class="string">'Lovely'</span>, <span class="string">'last_name'</span>: <span class="string">'Spam'</span>&#125;)</div><div class="line">    writer.writerow(&#123;<span class="string">'first_name'</span>: <span class="string">'Wonderful'</span>, <span class="string">'last_name'</span>: <span class="string">'Spam'</span>&#125;)</div></pre></td></tr></table></figure>
<p>有关csv库的一些操作可以参考<a href="http://python3-cookbook.readthedocs.io/zh_CN/latest/c06/p01_read_write_csv_data.html" target="_blank" rel="external">读写CSV数据</a>一文。</p>
<h3 id="CSV模块操作示例"><a href="#CSV模块操作示例" class="headerlink" title="CSV模块操作示例"></a>CSV模块操作示例</h3><p>输入文件：stocks.csv<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Symbol,Price,Date,Time,Change,Volume</div><div class="line"><span class="string">"AA"</span>,<span class="number">39.48</span>,<span class="string">"6/11/2007"</span>,<span class="string">"9:36am"</span>,<span class="number">-0.18</span>,<span class="number">181800</span></div><div class="line"><span class="string">"AIG"</span>,<span class="number">71.38</span>,<span class="string">"6/11/2007"</span>,<span class="string">"9:36am"</span>,<span class="number">-0.15</span>,<span class="number">195500</span></div><div class="line"><span class="string">"AXP"</span>,<span class="number">62.58</span>,<span class="string">"6/11/2007"</span>,<span class="string">"9:36am"</span>,<span class="number">-0.46</span>,<span class="number">935000</span></div><div class="line"><span class="string">"BA"</span>,<span class="number">98.31</span>,<span class="string">"6/11/2007"</span>,<span class="string">"9:36am"</span>,+<span class="number">0.12</span>,<span class="number">104800</span></div><div class="line"><span class="string">"C"</span>,<span class="number">53.08</span>,<span class="string">"6/11/2007"</span>,<span class="string">"9:36am"</span>,<span class="number">-0.25</span>,<span class="number">360900</span></div><div class="line"><span class="string">"CAT"</span>,<span class="number">78.29</span>,<span class="string">"6/11/2007"</span>,<span class="string">"9:36am"</span>,<span class="number">-0.23</span>,<span class="number">225400</span></div></pre></td></tr></table></figure></p>
<p>输出文件：dest.csv<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Symbol,Price,Date,Time,Change,Volume</div><div class="line">AA,<span class="number">39.48</span>,<span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>,<span class="number">9</span>:<span class="number">36</span>am,<span class="number">-0.18</span>,<span class="number">181800</span></div><div class="line">AIG,<span class="number">71.38</span>,<span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>,<span class="number">9</span>:<span class="number">36</span>am,<span class="number">-0.15</span>,<span class="number">195500</span></div><div class="line">AXP,<span class="number">62.58</span>,<span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>,<span class="number">9</span>:<span class="number">36</span>am,<span class="number">-0.46</span>,<span class="number">935000</span></div></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># coding: UTF-8</span></div><div class="line"><span class="string">"""</span></div><div class="line">Created on 2015/9/30  14:55</div><div class="line">@author: 'WX'</div><div class="line">"""</div><div class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</div><div class="line"><span class="keyword">import</span> csv</div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">    fileName = <span class="string">'stocks.csv'</span></div><div class="line">    writeFileName = <span class="string">'dest.csv'</span></div><div class="line">    <span class="keyword">with</span> open(fileName) <span class="keyword">as</span> f:</div><div class="line">        reader = csv.reader(f)</div><div class="line">        headers = next(reader)</div><div class="line">        print(<span class="string">"使用下标进行访问"</span>)</div><div class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> reader:</div><div class="line">            <span class="comment"># 可以使用下标进行访问，row是一个元组</span></div><div class="line">            length = len(row)</div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(length):</div><div class="line">                print(row[i], end=<span class="string">'\t'</span>)</div><div class="line">            print()</div><div class="line">        print(<span class="string">'------------------------------------------------'</span>)</div><div class="line">    <span class="keyword">with</span> open(fileName) <span class="keyword">as</span> f:</div><div class="line">        <span class="comment"># 使用命名元组访问</span></div><div class="line">        reader = csv.reader(f)</div><div class="line">        headers = next(reader)</div><div class="line">        Row = namedtuple(<span class="string">'Row'</span>, headers)</div><div class="line">        print(<span class="string">"使用命名元组进行访问"</span>)</div><div class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> reader:</div><div class="line">            row = Row(*r)</div><div class="line">            <span class="comment"># 这时候就可以使用首行的列名来进行访问了</span></div><div class="line">            line = <span class="string">'%s\t%s\t%s\t%s\t%s\t%s'</span> % (row.Symbol, row.Price, row.Date, row.Time, row.Change, row.Volume)</div><div class="line">            print(line)</div><div class="line">        print(<span class="string">'------------------------------------------------'</span>)</div><div class="line">    <span class="keyword">with</span> open(fileName) <span class="keyword">as</span> f:</div><div class="line">        <span class="comment"># 将内容读取到字典序列中，然后用key去读取</span></div><div class="line">        dict_reader = csv.DictReader(f)</div><div class="line">        print(<span class="string">"使用字典序列进行访问"</span>)</div><div class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> dict_reader:</div><div class="line">            line = <span class="string">'%s\t%s\t%s\t%s\t%s\t%s'</span> % (</div><div class="line">                row[<span class="string">'Symbol'</span>], row[<span class="string">'Price'</span>], row[<span class="string">'Date'</span>], row[<span class="string">'Time'</span>], row[<span class="string">'Change'</span>], row[<span class="string">'Volume'</span>])</div><div class="line">            print(line)</div><div class="line">    print(<span class="string">'------------------------------------------------'</span>)</div><div class="line">    print(<span class="string">"使用元组方式写入，SUCCESS！"</span>)</div><div class="line">    <span class="keyword">with</span> open(writeFileName, mode=<span class="string">'w'</span>, newline=<span class="string">''</span>) <span class="keyword">as</span> wf:</div><div class="line">        headers = [<span class="string">'Symbol'</span>, <span class="string">'Price'</span>, <span class="string">'Date'</span>, <span class="string">'Time'</span>, <span class="string">'Change'</span>, <span class="string">'Volume'</span>]</div><div class="line">        rows = [(<span class="string">'AA'</span>, <span class="number">39.48</span>, <span class="string">'6/11/2007'</span>, <span class="string">'9:36am'</span>, <span class="number">-0.18</span>, <span class="number">181800</span>),</div><div class="line">                (<span class="string">'AIG'</span>, <span class="number">71.38</span>, <span class="string">'6/11/2007'</span>, <span class="string">'9:36am'</span>, <span class="number">-0.15</span>, <span class="number">195500</span>),</div><div class="line">                (<span class="string">'AXP'</span>, <span class="number">62.58</span>, <span class="string">'6/11/2007'</span>, <span class="string">'9:36am'</span>, <span class="number">-0.46</span>, <span class="number">935000</span>),</div><div class="line">                ]</div><div class="line">        writer = csv.writer(wf)</div><div class="line">        writer.writerow(headers)</div><div class="line">        writer.writerows(rows)</div><div class="line">    print(<span class="string">"使用字典方式写入，SUCCESS！"</span>)</div><div class="line">    <span class="comment"># 在Windows平台需要指定newline=''，否则在两行内容之间会多出一行空行</span></div><div class="line">    <span class="keyword">with</span> open(writeFileName, mode=<span class="string">'w'</span>, newline=<span class="string">''</span>) <span class="keyword">as</span> wf:</div><div class="line">        headers = [<span class="string">'Symbol'</span>, <span class="string">'Price'</span>, <span class="string">'Date'</span>, <span class="string">'Time'</span>, <span class="string">'Change'</span>, <span class="string">'Volume'</span>]</div><div class="line">        rows = [&#123;<span class="string">'Symbol'</span>: <span class="string">'AA'</span>, <span class="string">'Price'</span>: <span class="number">39.48</span>, <span class="string">'Date'</span>: <span class="string">'6/11/2007'</span>,</div><div class="line">                 <span class="string">'Time'</span>: <span class="string">'9:36am'</span>, <span class="string">'Change'</span>: <span class="number">-0.18</span>, <span class="string">'Volume'</span>: <span class="number">181800</span>&#125;,</div><div class="line">                &#123;<span class="string">'Symbol'</span>: <span class="string">'AIG'</span>, <span class="string">'Price'</span>: <span class="number">71.38</span>, <span class="string">'Date'</span>: <span class="string">'6/11/2007'</span>,</div><div class="line">                 <span class="string">'Time'</span>: <span class="string">'9:36am'</span>, <span class="string">'Change'</span>: <span class="number">-0.15</span>, <span class="string">'Volume'</span>: <span class="number">195500</span>&#125;,</div><div class="line">                &#123;<span class="string">'Symbol'</span>: <span class="string">'AXP'</span>, <span class="string">'Price'</span>: <span class="number">62.58</span>, <span class="string">'Date'</span>: <span class="string">'6/11/2007'</span>,</div><div class="line">                 <span class="string">'Time'</span>: <span class="string">'9:36am'</span>, <span class="string">'Change'</span>: <span class="number">-0.46</span>, <span class="string">'Volume'</span>: <span class="number">935000</span>&#125;, ]</div><div class="line">        writer = csv.DictWriter(wf, headers)</div><div class="line">        writer.writeheader()</div><div class="line">        writer.writerows(rows)</div><div class="line">    <span class="comment"># 更换一种分隔符写入文件</span></div><div class="line">    <span class="keyword">with</span> open(writeFileName, mode=<span class="string">'w'</span>, newline=<span class="string">''</span>) <span class="keyword">as</span> wf:</div><div class="line">        headers = [<span class="string">'Symbol'</span>, <span class="string">'Price'</span>, <span class="string">'Date'</span>, <span class="string">'Time'</span>, <span class="string">'Change'</span>, <span class="string">'Volume'</span>]</div><div class="line">        rows = [(<span class="string">'AA'</span>, <span class="number">39.48</span>, <span class="string">'6/11/2007'</span>, <span class="string">'9:36am'</span>, <span class="number">-0.18</span>, <span class="number">181800</span>),</div><div class="line">                (<span class="string">'AIG'</span>, <span class="number">71.38</span>, <span class="string">'6/11/2007'</span>, <span class="string">'9:36am'</span>, <span class="number">-0.15</span>, <span class="number">195500</span>),</div><div class="line">                (<span class="string">'AXP'</span>, <span class="number">62.58</span>, <span class="string">'6/11/2007'</span>, <span class="string">'9:36am'</span>, <span class="number">-0.46</span>, <span class="number">935000</span>),</div><div class="line">                ]</div><div class="line">        writer = csv.writer(wf, delimiter=<span class="string">';'</span>)</div><div class="line">        writer.writerow(headers)</div><div class="line">        writer.writerows(rows)</div><div class="line">    print(<span class="string">"使用分好作为分隔符写入，SUCCESS！"</span>)</div></pre></td></tr></table></figure>
<p>控制台输出</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">C:\Python34\python.exe E:/workspaces/Python3/edu/shu/python/shumo/CsvUtil.py</div><div class="line">使用下标进行访问</div><div class="line">AA    <span class="number">39.48</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.18</span>    <span class="number">181800</span></div><div class="line">AIG    <span class="number">71.38</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.15</span>    <span class="number">195500</span></div><div class="line">AXP    <span class="number">62.58</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.46</span>    <span class="number">935000</span></div><div class="line">BA    <span class="number">98.31</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    +<span class="number">0.12</span>    <span class="number">104800</span></div><div class="line">C    <span class="number">53.08</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.25</span>    <span class="number">360900</span></div><div class="line">CAT    <span class="number">78.29</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.23</span>    <span class="number">225400</span></div><div class="line">------------------------------------------------</div><div class="line">使用命名元组进行访问</div><div class="line">AA    <span class="number">39.48</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.18</span>    <span class="number">181800</span></div><div class="line">AIG    <span class="number">71.38</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.15</span>    <span class="number">195500</span></div><div class="line">AXP    <span class="number">62.58</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.46</span>    <span class="number">935000</span></div><div class="line">BA    <span class="number">98.31</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    +<span class="number">0.12</span>    <span class="number">104800</span></div><div class="line">C    <span class="number">53.08</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.25</span>    <span class="number">360900</span></div><div class="line">CAT    <span class="number">78.29</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.23</span>    <span class="number">225400</span></div><div class="line">------------------------------------------------</div><div class="line">使用字典序列进行访问</div><div class="line">AA    <span class="number">39.48</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.18</span>    <span class="number">181800</span></div><div class="line">AIG    <span class="number">71.38</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.15</span>    <span class="number">195500</span></div><div class="line">AXP    <span class="number">62.58</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.46</span>    <span class="number">935000</span></div><div class="line">BA    <span class="number">98.31</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    +<span class="number">0.12</span>    <span class="number">104800</span></div><div class="line">C    <span class="number">53.08</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.25</span>    <span class="number">360900</span></div><div class="line">CAT    <span class="number">78.29</span>    <span class="number">6</span>/<span class="number">11</span>/<span class="number">2007</span>    <span class="number">9</span>:<span class="number">36</span>am    <span class="number">-0.23</span>    <span class="number">225400</span></div><div class="line">------------------------------------------------</div><div class="line">使用元组方式写入，SUCCESS！</div><div class="line">使用字典方式写入，SUCCESS！</div><div class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></div></pre></td></tr></table></figure>
<p>最后，如果你读取CSV数据的目的是做数据分析和统计的话，你可能需要看一看Pandas包。Pandas包含了一个非常方便的函数叫pandas.read_csv()，它可以加载CSV数据到一个DataFrame对象中去。然后利用这个对象你就可以生成各种形式的统计、过滤数据以及执行其他高级操作了。</p>
<h2 id="matplotlib"><a href="#matplotlib" class="headerlink" title="matplotlib"></a>matplotlib</h2><p>matplotlib 是python最著名的绘图库，它提供了一整套和matlab相似的命令API，十分适合交互式地进行制图。而且也可以方便地将它作为绘图控件，嵌入GUI应用程序中。</p>
<p>matplotlib的pyplot子库提供了和matlab类似的绘图API，方便用户快速绘制2D图表。</p>
<p>一个matplotlib绘图的示例如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div><div class="line"></div><div class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1000</span>)</div><div class="line">y = np.sin(x)</div><div class="line">z = np.cos(x**<span class="number">2</span>)</div><div class="line"></div><div class="line">plt.figure(figsize=(<span class="number">8</span>,<span class="number">4</span>))</div><div class="line">plt.plot(x,y,label=<span class="string">"$sin(x)$"</span>,color=<span class="string">"red"</span>,linewidth=<span class="number">2</span>)</div><div class="line">plt.plot(x,z,<span class="string">"b--"</span>,label=<span class="string">"$cos(x^2)$"</span>)</div><div class="line">plt.xlabel(<span class="string">"Time(s)"</span>)</div><div class="line">plt.ylabel(<span class="string">"Volt"</span>)</div><div class="line">plt.title(<span class="string">"PyPlot First Example"</span>)</div><div class="line">plt.ylim(<span class="number">-1.2</span>,<span class="number">1.2</span>)</div><div class="line">plt.legend()</div><div class="line">plt.show()</div></pre></td></tr></table></figure></p>
<p>从上面，我们能看到matplotlib绘图模块的几个重要部分，分别是<code>plt.figure</code>、<code>plt.plot</code>、<code>plt.xlabel</code>、<code>plt.ylabel</code>、<code>plt.title</code>、<code>plt.xlim</code>、<code>plt.ylim</code>、<code>plt.legnd</code>、<code>plt.show</code>等。此外还包括<code>plt.savefig</code>、<code>plt.axes</code></p>
<h3 id="figure"><a href="#figure" class="headerlink" title="figure"></a>figure</h3><p><code>figure</code>函数的作用是创建一个绘图对象，并且使它成为当前的绘图对象，也可以不创建绘图对象直接调用接下来的plot函数直接绘图，matplotlib会为我们自动创建一个绘图对象。如果需要同时绘制多幅图表的话，可以是给figure传递一个整数参数指定图标的序号，如果所指定序号的绘图对象已经存在的话，将不创建新的对象，而只是让它成为当前绘图对象。</p>
<p><code>figure(figsize=(8,6), dpi=80)</code>，这句的功能是“创建一个 8 <em> 6 点（point）的图，并设置分辨率为 80”。通过figsize参数可以指定绘图对象的宽度和高度，单位为英寸；dpi参数指定绘图对象的分辨率，即每英寸多少个像素，默认值为80。因此本例中所创建的图表窗口的宽度为8</em>80 = 640像素，高度则为6*80=480像素。</p>
<p>除了设置图片像素和分辨率之外，还可以设置保存图片的像素和分辨率，通过savefig函数实现，这点会在之后阐述。</p>
<h3 id="plot"><a href="#plot" class="headerlink" title="plot"></a>plot</h3><p>plot函数是直接的绘图部分，<code>plt.plot</code>后参数包括以下内容：</p>
<ul>
<li>x y函数/取值，如果为数组则需要转为向量形式，允许 x1,y1,x2,y2在同一张图中绘制多个图像（也可调用两次plot函数）</li>
<li>格式化参数，其包括了color/style等样式，指定线条的颜色样式等。采用格式化参数可快速指定线条样式。具体样式会在下面阐述</li>
<li>linewidth，指定曲线的宽度</li>
<li>label值：指所绘制曲线的对应名称，此部分在<code>plt.legend</code>中显示。字符串前后添加”$”符号，会显示为其latex格式的数学公式</li>
</ul>
<p>格式化参数部分，包括颜色、线条标记、线条属性三部分。参数分别为<code>color</code>、<code>marker</code>、<code>linestyle</code>，也可单独设置各参数。</p>
<h4 id="线条颜色"><a href="#线条颜色" class="headerlink" title="线条颜色"></a>线条颜色</h4><table>
<thead>
<tr>
<th>标记</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>b</td>
<td>蓝色</td>
</tr>
<tr>
<td>g</td>
<td>绿色</td>
</tr>
<tr>
<td>r</td>
<td>红色</td>
</tr>
<tr>
<td>c</td>
<td>青色</td>
</tr>
<tr>
<td>m</td>
<td>洋红色</td>
</tr>
<tr>
<td>y</td>
<td>黄色</td>
</tr>
<tr>
<td>k</td>
<td>黑色</td>
</tr>
<tr>
<td>w</td>
<td>白色</td>
</tr>
</tbody>
</table>
<p>以上是常用颜色，当需要使用其他颜色时，也可以使用HTML十六进制字符串 color=’#eeefff’来调用颜色</p>
<h4 id="线条属性"><a href="#线条属性" class="headerlink" title="线条属性"></a>线条属性</h4><table>
<thead>
<tr>
<th>标记</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>实线</td>
</tr>
<tr>
<td>–</td>
<td>破折线</td>
</tr>
<tr>
<td>-.</td>
<td>点划线</td>
</tr>
<tr>
<td>:</td>
<td>虚线</td>
</tr>
<tr>
<td>.</td>
<td>点标记</td>
</tr>
<tr>
<td>,</td>
<td>像素标记</td>
</tr>
</tbody>
</table>
<h4 id="线条标记"><a href="#线条标记" class="headerlink" title="线条标记"></a>线条标记</h4><table>
<thead>
<tr>
<th>标记</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>o</td>
<td>圆圈</td>
</tr>
<tr>
<td>v</td>
<td>倒三角</td>
</tr>
<tr>
<td>^</td>
<td>正三角</td>
</tr>
<tr>
<td>&lt;</td>
<td>左转90度的三角形</td>
</tr>
<tr>
<td>&gt;</td>
<td>右转90度的三角形</td>
</tr>
<tr>
<td>1</td>
<td>禾苗形状1</td>
</tr>
<tr>
<td>2</td>
<td>禾苗形状2</td>
</tr>
<tr>
<td>3</td>
<td>禾苗形状3</td>
</tr>
<tr>
<td>4</td>
<td>禾苗形状4</td>
</tr>
<tr>
<td>s</td>
<td>正方形</td>
</tr>
<tr>
<td>p</td>
<td>五边形</td>
</tr>
<tr>
<td>*</td>
<td>*标记</td>
</tr>
<tr>
<td>h</td>
<td>六边形1</td>
</tr>
<tr>
<td>H</td>
<td>六边形2</td>
</tr>
<tr>
<td>+</td>
<td>+标记</td>
</tr>
<tr>
<td>x</td>
<td>x标记</td>
</tr>
<tr>
<td>D</td>
<td>菱形</td>
</tr>
<tr>
<td>d</td>
<td>小菱形</td>
</tr>
<tr>
<td>\</td>
<td></td>
<td>竖线</td>
</tr>
<tr>
<td>_</td>
<td>水平线</td>
</tr>
</tbody>
</table>
<p>需要注意的是，当有线条标记这个属性时，即使添加了线条属性这部分，也只会在对应的函数值处展示线条标记，连续的线条样式跟随线条属性而不跟随线条标记。</p>
<h3 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h3><p>采用matplotlib绘图时，有一些基本配置信息。</p>
<ul>
<li><code>plt.xlabel</code>：x轴坐标</li>
<li><code>plt.ylabel</code>：y轴坐标</li>
<li><code>plt.title</code>：图表名称</li>
<li><code>plt.xlim</code>：x轴范围</li>
<li><code>plt.ylim</code>：y轴范围</li>
<li><code>plt.legend</code>：显示图例</li>
</ul>
<p>图例legend的用法为<code>legend(loc=&#39;upper left&#39;)</code>。除了图例之外，还可以直接将曲线代表的函数绘制在曲线旁边，所用的函数为<code>text</code>函数。用法为<code>text(1, 7.5, r&#39;$10^x$&#39;, fontsize=16)</code>，即<code>text(x_zuobiao, y_zuobiao, biaodashi, fontsize)</code>。当然还有<code>annotate</code>用法，此处不展开描述。<br>。<br>其中，x/y周坐标范围也可用<code>plt.axis([-0.1, 4.5, -0.1, 4.5])</code>形式来表示。</p>
<p>以上绘制图表完毕后，可采用<code>ply.show()</code>来显示图表。同时也可以采用<code>savefig(&quot;test.png&quot;,dpi=72)</code>来保存图表，可设置保存的图表像素大小。</p>
<p>除了上述之外，还包括一些细节设置方面，如x/y轴的刻度间距等。</p>
<p>刻度间距可通过下述来设置：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 设置横轴的上下限</span></div><div class="line">xlim(<span class="number">-4.0</span>,<span class="number">4.0</span>)</div><div class="line"></div><div class="line"><span class="comment"># 设置横轴记号，[-4,4]，共9个刻度线</span></div><div class="line">xticks(np.linspace(<span class="number">-4</span>,<span class="number">4</span>,<span class="number">9</span>,endpoint=<span class="keyword">True</span>))</div><div class="line"></div><div class="line"><span class="comment"># 设置纵轴的上下限</span></div><div class="line">ylim(<span class="number">-1.0</span>,<span class="number">1.0</span>)</div><div class="line"></div><div class="line"><span class="comment"># 设置纵轴记号，[-1,1],共5个刻度线</span></div><div class="line">yticks(np.linspace(<span class="number">-1</span>,<span class="number">1</span>,<span class="number">5</span>,endpoint=<span class="keyword">True</span>))</div><div class="line"></div><div class="line"><span class="comment"># 还可以有另一种表示方式</span></div><div class="line"><span class="comment"># 即指定各自的刻度值</span></div><div class="line">xticks( [-np.pi, -np.pi/<span class="number">2</span>, <span class="number">0</span>, np.pi/<span class="number">2</span>, np.pi])</div><div class="line">yticks([<span class="number">-1</span>, <span class="number">0</span>, +<span class="number">1</span>])</div><div class="line"></div><div class="line"><span class="comment"># 将上述表示为π形式的坐标值</span></div><div class="line">xticks([-np.pi, -np.pi/<span class="number">2</span>, <span class="number">0</span>, np.pi/<span class="number">2</span>, np.pi],</div><div class="line">       [<span class="string">r'$-\pi$'</span>, <span class="string">r'$-\pi/2$'</span>, <span class="string">r'$0$'</span>, <span class="string">r'$+\pi/2$'</span>, <span class="string">r'$+\pi$'</span>])</div><div class="line"></div><div class="line">yticks([<span class="number">-1</span>, <span class="number">0</span>, +<span class="number">1</span>],</div><div class="line">       [<span class="string">r'$-1$'</span>, <span class="string">r'$0$'</span>, <span class="string">r'$+1$'</span>])</div></pre></td></tr></table></figure></p>
<h3 id="子图-subplot"><a href="#子图-subplot" class="headerlink" title="子图 subplot"></a>子图 subplot</h3><p>当涉及到绘出多个图像时，除了采用多次plot将图像绘在同一张表中，还可以采用子图形式。利用subplot分配图表位置（依次排序）和采用的图表，进行绘图。subplot(221)，表示分成2行2列，当前采用的是第一个图表。当各参数都小于10时，可简写为221形式，超过时需要表示为(2,2,1)形式。</p>
<p>对于多子图的绘图，每个子图绘制完毕之后再绘制下一个子图。即：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">plt.subplot(<span class="number">211</span>)</div><div class="line">plt.plot(x,y)</div><div class="line"></div><div class="line">plt.subplot(<span class="number">212</span>)</div><div class="line">plt.plot(x,y)</div></pre></td></tr></table></figure></p>
<h3 id="显示中文"><a href="#显示中文" class="headerlink" title="显示中文"></a>显示中文</h3><p>matplotlib的缺省配置文件中所使用的字体无法正确显示中文。为了让图表能正确显示中文，可以有几种解决方案。</p>
<ul>
<li>在程序中直接指定字体</li>
<li>在程序开头修改配置字典rcParams</li>
<li>修改配置文件</li>
</ul>
<p>下面是通过修改字体实现的一种方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> FontProperties</div><div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"></div><div class="line">font = FontProperties(fname=<span class="string">r"c:\windows\fonts\simsun.ttc"</span>, size=<span class="number">14</span>) </div><div class="line">t = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1000</span>)</div><div class="line">y = np.sin(t)</div><div class="line">plt.plot(t, y)</div><div class="line">plt.xlabel(<span class="string">u"时间"</span>, fontproperties=font) </div><div class="line">plt.ylabel(<span class="string">u"振幅"</span>, fontproperties=font)</div><div class="line">plt.title(<span class="string">u"正弦波"</span>, fontproperties=font)</div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<h3 id="绘图示例"><a href="#绘图示例" class="headerlink" title="绘图示例"></a>绘图示例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#图例显示</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> matplotlib.matlab <span class="keyword">import</span> *</div><div class="line"><span class="function"><span class="keyword">def</span>  <span class="title">f</span><span class="params">(x, c)</span>:</span></div><div class="line">    m1 = sin(<span class="number">2</span>*pi*x)</div><div class="line">    m2 = exp(-c*x)</div><div class="line"><span class="keyword">return</span> multiply(m1, m2)</div><div class="line">x = linspace(<span class="number">0</span>, <span class="number">4</span>, <span class="number">100</span>)</div><div class="line">sigma = <span class="number">0.5</span></div><div class="line">plot(x, f(x, sigma), <span class="string">'r'</span>, linewidth=<span class="number">2</span>)</div><div class="line">xlabel(<span class="string">r'$\rm&#123;time&#125;  \  t$'</span>, fontsize=<span class="number">16</span>)</div><div class="line">ylabel(<span class="string">r'$\rm&#123;Amplitude&#125; \ f(x)$'</span>, fontsize=<span class="number">16</span>)</div><div class="line">title(<span class="string">r'$f(x) \ \rm&#123;is \ damping  \ with&#125; \ x$'</span>, fontsize=<span class="number">16</span>)</div><div class="line">text(<span class="number">2.0</span>, <span class="number">0.5</span>, <span class="string">r'$f(x) = \rm&#123;sin&#125;(2 \pi  x^2) e^&#123;\sigma x&#125;$'</span>, fontsize=<span class="number">20</span>)</div><div class="line">savefig(<span class="string">'latex.png'</span>, dpi=<span class="number">75</span>)</div><div class="line">show()</div></pre></td></tr></table></figure>
<p><img src="/images/pythom-3-2.png" alt="图例显示"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># plt.figure()实现</span></div><div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div><div class="line"></div><div class="line">plt.figure(<span class="number">1</span>)                <span class="comment"># 第一张图</span></div><div class="line">plt.subplot(<span class="number">211</span>)             <span class="comment"># 第一张图中的第一张子图</span></div><div class="line">plt.plot([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</div><div class="line">plt.subplot(<span class="number">212</span>)             <span class="comment"># 第一张图中的第二张子图</span></div><div class="line">plt.plot([<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</div><div class="line"> </div><div class="line"> </div><div class="line">plt.figure(<span class="number">2</span>)                <span class="comment"># 第二张图</span></div><div class="line">plt.plot([<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])            <span class="comment"># 默认创建子图subplot(111)</span></div><div class="line"> </div><div class="line">plt.figure(<span class="number">1</span>)                <span class="comment"># 切换到figure 1 ; 子图subplot(212)仍旧是当前图</span></div><div class="line">plt.subplot(<span class="number">211</span>)             <span class="comment"># 令子图subplot(211)成为figure1的当前图</span></div><div class="line">plt.title(<span class="string">'Easy as 1,2,3'</span>)   <span class="comment"># 添加subplot 211 的标题</span></div></pre></td></tr></table></figure>
<p><img src="/images/python-3-5.png" alt="figure实现"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 箱型图</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> matplotlib.matlab <span class="keyword">import</span>  * </div><div class="line">filename = <span class="string">"d:\\wei\\exp\\current.dat"</span></div><div class="line">X = load(filename)</div><div class="line">dp = X[:, <span class="number">0</span>]</div><div class="line">i_mea = X[:, <span class="number">1</span>]</div><div class="line">i_mea_err = X[:, <span class="number">2</span>]</div><div class="line">i_cal = X[:, <span class="number">3</span>]</div><div class="line">i_cal_err = X[:, <span class="number">4</span>]</div><div class="line">width = <span class="number">3</span></div><div class="line">h1 = bar(dp, i_mea, width, color=<span class="string">'r'</span>, yerr=i_mea_err)</div><div class="line">h2 = bar(dp+width, i_cal, width, color=<span class="string">'b'</span>, yerr=i_cal_err)</div><div class="line">xlabel(<span class="string">'Particle diameter (nm)'</span>, fontsize=<span class="number">16</span>)</div><div class="line">xticks(dp+width, dp)</div><div class="line">ylabel(<span class="string">'Signal current (nA)'</span>, fontsize=<span class="number">16</span>)</div><div class="line">title(<span class="string">'Measured current vs. calculated current'</span>)</div><div class="line">legend((h1[<span class="number">0</span>], h2[<span class="number">0</span>]), (<span class="string">'measured current'</span>, <span class="string">'calculated current'</span>), loc=<span class="number">2</span>)</div><div class="line">savefig(<span class="string">'current.png'</span>, dpi=<span class="number">75</span>)</div><div class="line">show()</div></pre></td></tr></table></figure>
<p><img src="images/python-3-3.png" alt="箱型图"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 直方图</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">import</span> matplot.pyplot <span class="keyword">as</span> plt</div><div class="line"></div><div class="line">x = np.random.randn(<span class="number">1000</span>)</div><div class="line">plt.hist(x, <span class="number">50</span>)</div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<p><img src="/images/python-3-4.png" alt="直方图"></p>
<p>直方图是 Matplotlib 中最简单的图形之一。你只需要给 hist() 函数传入一个包含数据的数组。第二个参数代表数据容器的个数。数据容器代表不同的值的间隔，并用来包含我们的数据。数据容器越多，图形上的数据条就越多。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#标注示例</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div><div class="line"></div><div class="line">ax = plt.subplot(<span class="number">111</span>)</div><div class="line"></div><div class="line">t = np.arange(<span class="number">0.0</span>, <span class="number">5.0</span>, <span class="number">0.01</span>)</div><div class="line">s = np.cos(<span class="number">2</span>*np.pi*t)</div><div class="line">line = plt.plot(t, s, lw=<span class="number">2</span>)</div><div class="line"></div><div class="line">plt.annotate(<span class="string">'local max'</span>, xy=(<span class="number">2</span>, <span class="number">1</span>), xytext=(<span class="number">3</span>, <span class="number">1.5</span>),</div><div class="line">            arrowprops=dict(facecolor=<span class="string">'black'</span>, shrink=<span class="number">0.05</span>))</div><div class="line"></div><div class="line">plt.ylim(<span class="number">-2</span>, <span class="number">2</span>)</div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<p><img src="http://www.codebelief.com/article/2017/04/python-data-visualization-matplotlib-learning/" alt="标注示例"></p>
<p>参见<a href="https://liam0205.me/2014/09/11/matplotlib-tutorial-zh-cn/" target="_blank" rel="external">Matplotlib 教程</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python/" rel="tag"># Python</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017-09-30-python-learning-02-basic/" rel="next" title="Python学习笔记2：Python基础">
                Previous:  Python学习笔记2：Python基础 <i class="fa fa-chevron-right"></i>
              </a>  
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/Fitz.jpg"
               alt="Fitz.Xu" />
          <p class="site-author-name" itemprop="name">Fitz.Xu</p>
           
              <p class="site-description motion-element" itemprop="description">去折腾，去尝试，去探索世界的未知</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">18</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/xjmwx4" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.linkedin.com/in/xujia64" target="_blank" title="Linkedin">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                  Linkedin
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://douban.com/people/70374031" target="_blank" title="豆瓣">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  豆瓣
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/xjmwx4" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#sys模块"><span class="nav-number">1.</span> <span class="nav-text">sys模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#导入sys模块"><span class="nav-number">1.1.</span> <span class="nav-text">导入sys模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sys模块常见函数"><span class="nav-number">1.2.</span> <span class="nav-text">sys模块常见函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sys模块常见函数-1"><span class="nav-number">1.3.</span> <span class="nav-text">sys模块常见函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#sys-argv"><span class="nav-number">1.3.1.</span> <span class="nav-text">sys.argv</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sys-exit-arg"><span class="nav-number">1.3.2.</span> <span class="nav-text">sys.exit([arg])</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sys-path"><span class="nav-number">1.3.3.</span> <span class="nav-text">sys.path</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sys-modules"><span class="nav-number">1.3.4.</span> <span class="nav-text">sys.modules</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sys-platform"><span class="nav-number">1.3.5.</span> <span class="nav-text">sys.platform</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sys-stdin-sys-stdout-sys-stderr"><span class="nav-number">1.3.6.</span> <span class="nav-text">sys.stdin/sys.stdout/sys.stderr</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#使用sys重定向输出"><span class="nav-number">1.3.6.1.</span> <span class="nav-text">使用sys重定向输出</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#重定向错误信息"><span class="nav-number">1.3.6.2.</span> <span class="nav-text">重定向错误信息</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#打印到-stderr"><span class="nav-number">1.3.6.3.</span> <span class="nav-text">打印到 stderr</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#os模块"><span class="nav-number">2.</span> <span class="nav-text">os模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#常见用法一"><span class="nav-number">2.1.</span> <span class="nav-text">常见用法一</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常见用法二"><span class="nav-number">2.2.</span> <span class="nav-text">常见用法二</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他"><span class="nav-number">2.3.</span> <span class="nav-text">其他</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#fileinput"><span class="nav-number">3.</span> <span class="nav-text">fileinput</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#典型用法"><span class="nav-number">3.1.</span> <span class="nav-text">典型用法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常用函数"><span class="nav-number">3.2.</span> <span class="nav-text">常用函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常见例子"><span class="nav-number">3.3.</span> <span class="nav-text">常见例子</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#集合（set）类型"><span class="nav-number">4.</span> <span class="nav-text">集合（set）类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#set示例"><span class="nav-number">4.1.</span> <span class="nav-text">set示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基本操作"><span class="nav-number">4.2.</span> <span class="nav-text">基本操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#range和xrange"><span class="nav-number">5.</span> <span class="nav-text">range和xrange</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#time"><span class="nav-number">6.</span> <span class="nav-text">time</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#常用函数-1"><span class="nav-number">6.1.</span> <span class="nav-text">常用函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#time-localtime-secs"><span class="nav-number">6.1.1.</span> <span class="nav-text">time.localtime([secs])</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#time-gmtime-secs"><span class="nav-number">6.1.2.</span> <span class="nav-text">time.gmtime([secs])</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#time-sleep-secs"><span class="nav-number">6.1.3.</span> <span class="nav-text">time.sleep(secs)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#time-time"><span class="nav-number">6.1.4.</span> <span class="nav-text">time.time()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#time-mktime-t"><span class="nav-number">6.1.5.</span> <span class="nav-text">time.mktime(t)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#time-sleep-secs-1"><span class="nav-number">6.1.6.</span> <span class="nav-text">time.sleep(secs)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#time-clock"><span class="nav-number">6.1.7.</span> <span class="nav-text">time.clock()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#time-asctime-t"><span class="nav-number">6.1.8.</span> <span class="nav-text">time.asctime([t])</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#time-ctime-secs"><span class="nav-number">6.1.9.</span> <span class="nav-text">time.ctime([secs])</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#time-strftime-format-t"><span class="nav-number">6.1.10.</span> <span class="nav-text">time.strftime(format[, t])</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#time-strptime-string-format"><span class="nav-number">6.1.11.</span> <span class="nav-text">time.strptime(string[, format])</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Calendar"><span class="nav-number">7.</span> <span class="nav-text">Calendar</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#常用函数-2"><span class="nav-number">7.1.</span> <span class="nav-text">常用函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#datetime"><span class="nav-number">8.</span> <span class="nav-text">datetime</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#date类"><span class="nav-number">8.1.</span> <span class="nav-text">date类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Time类"><span class="nav-number">8.2.</span> <span class="nav-text">Time类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#datetime-类"><span class="nav-number">8.3.</span> <span class="nav-text">datetime 类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#timedelta-类"><span class="nav-number">8.4.</span> <span class="nav-text">timedelta 类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#timeit"><span class="nav-number">9.</span> <span class="nav-text">timeit</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#主要方法"><span class="nav-number">9.1.</span> <span class="nav-text">主要方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在Python交互解释器中的使用"><span class="nav-number">9.2.</span> <span class="nav-text">在Python交互解释器中的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#repeat函数"><span class="nav-number">9.3.</span> <span class="nav-text">repeat函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在脚本程序中的使用"><span class="nav-number">9.4.</span> <span class="nav-text">在脚本程序中的使用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#random"><span class="nav-number">10.</span> <span class="nav-text">random</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#random-random"><span class="nav-number">10.1.</span> <span class="nav-text">random.random()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#random-uniform-a-b"><span class="nav-number">10.2.</span> <span class="nav-text">random.uniform(a,b)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#random-randint-a-b"><span class="nav-number">10.3.</span> <span class="nav-text">random.randint(a,b)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#random-randrange-start-stop-step"><span class="nav-number">10.4.</span> <span class="nav-text">random.randrange([start], stop [,step])</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#random-choice-sequence"><span class="nav-number">10.5.</span> <span class="nav-text">random.choice(sequence)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#random-shuffle-x-random"><span class="nav-number">10.6.</span> <span class="nav-text">random.shuffle(x[,random])</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#random-sample-sequence-k"><span class="nav-number">10.7.</span> <span class="nav-text">random.sample(sequence,k)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shelve"><span class="nav-number">11.</span> <span class="nav-text">shelve</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#csv"><span class="nav-number">12.</span> <span class="nav-text">csv</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CSV格式简介"><span class="nav-number">12.1.</span> <span class="nav-text">CSV格式简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSV文件注意点"><span class="nav-number">12.2.</span> <span class="nav-text">CSV文件注意点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#简单使用"><span class="nav-number">12.3.</span> <span class="nav-text">简单使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字典方式读写"><span class="nav-number">12.4.</span> <span class="nav-text">字典方式读写</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSV模块操作示例"><span class="nav-number">12.5.</span> <span class="nav-text">CSV模块操作示例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#matplotlib"><span class="nav-number">13.</span> <span class="nav-text">matplotlib</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#figure"><span class="nav-number">13.1.</span> <span class="nav-text">figure</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#plot"><span class="nav-number">13.2.</span> <span class="nav-text">plot</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#线条颜色"><span class="nav-number">13.2.1.</span> <span class="nav-text">线条颜色</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#线条属性"><span class="nav-number">13.2.2.</span> <span class="nav-text">线条属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#线条标记"><span class="nav-number">13.2.3.</span> <span class="nav-text">线条标记</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基本配置"><span class="nav-number">13.3.</span> <span class="nav-text">基本配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#子图-subplot"><span class="nav-number">13.4.</span> <span class="nav-text">子图 subplot</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#显示中文"><span class="nav-number">13.5.</span> <span class="nav-text">显示中文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#绘图示例"><span class="nav-number">13.6.</span> <span class="nav-text">绘图示例</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Fitz.Xu</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
